/*! For license information please see 682.QWC2App.js.LICENSE.txt */
(self.webpackChunkqwc2_demo_app=self.webpackChunkqwc2_demo_app||[]).push([[682],{2739(e,A,t){"use strict";t.d(A,{A:()=>i});var n=t(15516),r=t.n(n),o=t(81364),a=t.n(o)()(r());a.push([e.id,"div.overview-map-3d {\n    position: absolute;\n    bottom: 0;\n    right: 0;\n    z-index: 101;\n}\n\ndiv.overview-map-3d > button {\n    font-size: initial!important;\n    right: 0.25em;\n    bottom: 0.25em;\n    width: 1.375em;\n    height: 1.375em;\n    position: absolute;\n    color: var(--map-button-text-color)!important;\n    background-color: var(--map-button-bg-color)!important;\n    border: 0!important;\n    outline: 0;\n    z-index: 101;\n    border-radius: 2px;\n    font-weight: bold;\n}\n\ndiv.overview-map-3d > div.ol-overviewmap-map-3d {\n    position: absolute;\n    right: 1px;\n    bottom: 1px;\n    width: 200px;\n    height: 200px;\n    background-color: white;\n    box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.5);\n    border: 1px solid var(--border-color);\n}\n\ndiv.overview-map-3d.ol-collapsed > div.ol-overviewmap-map-3d {\n    display: none;\n}\n","",{version:3,sources:["webpack://./qwc2/components/map3d/style/OverviewMap3D.css"],names:[],mappings:"AAAA;IACI,kBAAkB;IAClB,SAAS;IACT,QAAQ;IACR,YAAY;AAChB;;AAEA;IACI,4BAA4B;IAC5B,aAAa;IACb,cAAc;IACd,cAAc;IACd,eAAe;IACf,kBAAkB;IAClB,6CAA6C;IAC7C,sDAAsD;IACtD,mBAAmB;IACnB,UAAU;IACV,YAAY;IACZ,kBAAkB;IAClB,iBAAiB;AACrB;;AAEA;IACI,kBAAkB;IAClB,UAAU;IACV,WAAW;IACX,YAAY;IACZ,aAAa;IACb,uBAAuB;IACvB,0CAA0C;IAC1C,qCAAqC;AACzC;;AAEA;IACI,aAAa;AACjB",sourcesContent:["div.overview-map-3d {\r\n    position: absolute;\r\n    bottom: 0;\r\n    right: 0;\r\n    z-index: 101;\r\n}\r\n\r\ndiv.overview-map-3d > button {\r\n    font-size: initial!important;\r\n    right: 0.25em;\r\n    bottom: 0.25em;\r\n    width: 1.375em;\r\n    height: 1.375em;\r\n    position: absolute;\r\n    color: var(--map-button-text-color)!important;\r\n    background-color: var(--map-button-bg-color)!important;\r\n    border: 0!important;\r\n    outline: 0;\r\n    z-index: 101;\r\n    border-radius: 2px;\r\n    font-weight: bold;\r\n}\r\n\r\ndiv.overview-map-3d > div.ol-overviewmap-map-3d {\r\n    position: absolute;\r\n    right: 1px;\r\n    bottom: 1px;\r\n    width: 200px;\r\n    height: 200px;\r\n    background-color: white;\r\n    box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.5);\r\n    border: 1px solid var(--border-color);\r\n}\r\n\r\ndiv.overview-map-3d.ol-collapsed > div.ol-overviewmap-map-3d {\r\n    display: none;\r\n}\r\n"],sourceRoot:""}]);const i=a},5240(e,A,t){"use strict";t.d(A,{default:()=>Zr});var n=t(77810),r=t(45135),o=t(48999),a=t(60224),i=t(6260),c=t(65361),s=t(23331),l=t(69),u=t(19188),p=t(40091),m=t(75826),d=t.n(m),v=t(30469),g=t(33551),f=t(37594),w=t(74024),b=t(46821),y=t(69772),C=t(68190),h=t(79439),P=t(40919),I=t(46186),M=t.n(I),j=t(82155),B=t.n(j),D=t(27433),z=t.n(D),E=t(88626),x=t.n(E),k=t(8990),O=t.n(k),T=t(89827),Z=t.n(T),L=t(95466),S={};function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}function W(e,A){for(var t=0;t<A.length;t++){var n=A[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,F(n.key),n)}}function N(e,A,t){return A=G(A),function(e,A){if(A&&("object"==Q(A)||"function"==typeof A))return A;if(void 0!==A)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,R()?Reflect.construct(A,t||[],G(e).constructor):A.apply(e,t))}function R(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(R=function(){return!!e})()}function G(e){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},G(e)}function U(e,A){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,A){return e.__proto__=A,e},U(e,A)}function Y(e,A,t){return(A=F(A))in e?Object.defineProperty(e,A,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[A]=t,e}function F(e){var A=function(e){if("object"!=Q(e)||!e)return e;var A=e[Symbol.toPrimitive];if(void 0!==A){var t=A.call(e,"string");if("object"!=Q(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Q(A)?A:A+""}S.styleTagTransform=Z(),S.setAttributes=x(),S.insert=z().bind(null,"head"),S.domAPI=B(),S.insertStyleElement=O(),M()(L.A,S),L.A&&L.A.locals&&L.A.locals;var K=function(e){function A(){var e;!function(e,A){if(!(e instanceof A))throw new TypeError("Cannot call a class as a function")}(this,A);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Y(e=N(this,A,[].concat(n)),"state",{cursorPosition:null,progress:0}),Y(e,"scheduleGetCursorPosition",function(A){var t=A.currentTarget.getBoundingClientRect(),n=(A.clientX-t.left)/t.width*2-1,r=-(A.clientY-t.top)/t.height*2+1;clearTimeout(e.cursorPositionTimeout),e.cursorPositionTimeout=setTimeout(function(){return e.getCursorPosition(n,r)},150)}),Y(e,"getCursorPosition",function(A,t){var n=e.props.sceneContext.getSceneIntersection(A,t);if(n){var r=n.point;e.setState({cursorPosition:[r.x,r.y,r.z]})}}),Y(e,"storeHeight",function(A){A&&e.props.setBottombarHeight(A.clientHeight)}),e}return function(e,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(A&&A.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),A&&U(e,A)}(A,e),t=A,(r=[{key:"componentDidMount",value:function(){var e=this;this.props.sceneContext.scene.viewport.addEventListener("mousemove",this.scheduleGetCursorPosition),this.props.sceneContext.scene.addEventListener("update-end",function(){e.setState({progress:Math.round(100*e.props.sceneContext.scene.progress)+"%"})})}},{key:"componentWillUnmount",value:function(){clearTimeout(this.cursorPositionTimeout)}},{key:"render",value:function(){return n.createElement("div",{className:"map3d-bottombar",ref:this.storeHeight},n.createElement("div",{className:"map3d-bottombar-progress"},n.createElement("div",{className:"map3d-bottombar-progressbar",style:{width:this.state.progress}}),n.createElement("div",{className:"map3d-bottombar-progress-label"},this.state.progress)),n.createElement("div",{className:"map3d-bottombar-spacer"}),n.createElement("div",{className:"map3d-bottombar-position"},(this.state.cursorPosition||[]).map(function(e){return e.toFixed(0)}).join(" ")),n.createElement("div",{className:"map3d-bottombar-projection"},this.props.sceneContext.mapCrs?h.A.getAvailableCRS()[this.props.sceneContext.mapCrs].label:""),n.createElement("div",{className:"map3d-bottombar-spacer"}))}}])&&W(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r}(n.Component);Y(K,"propTypes",{sceneContext:d().object,setBottombarHeight:d().func});const H=(0,r.Ng)(function(){return{}},{setBottombarHeight:P.setBottombarHeight})(K);var X=t(95749),J=t(7705),V=t(39876),q=t(64466),_=t(63574),$=t(11964),ee=t(91399),Ae={};function te(e){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(e)}function ne(e,A){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);A&&(n=n.filter(function(A){return Object.getOwnPropertyDescriptor(e,A).enumerable})),t.push.apply(t,n)}return t}function re(e){for(var A=1;A<arguments.length;A++){var t=null!=arguments[A]?arguments[A]:{};A%2?ne(Object(t),!0).forEach(function(A){ue(e,A,t[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ne(Object(t)).forEach(function(A){Object.defineProperty(e,A,Object.getOwnPropertyDescriptor(t,A))})}return e}function oe(e,A){(null==A||A>e.length)&&(A=e.length);for(var t=0,n=Array(A);t<A;t++)n[t]=e[t];return n}function ae(e,A){for(var t=0;t<A.length;t++){var n=A[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pe(n.key),n)}}function ie(e,A,t){return A=se(A),function(e,A){if(A&&("object"==te(A)||"function"==typeof A))return A;if(void 0!==A)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ce()?Reflect.construct(A,t||[],se(e).constructor):A.apply(e,t))}function ce(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ce=function(){return!!e})()}function se(e){return se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},se(e)}function le(e,A){return le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,A){return e.__proto__=A,e},le(e,A)}function ue(e,A,t){return(A=pe(A))in e?Object.defineProperty(e,A,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[A]=t,e}function pe(e){var A=function(e){if("object"!=te(e)||!e)return e;var A=e[Symbol.toPrimitive];if(void 0!==A){var t=A.call(e,"string");if("object"!=te(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==te(A)?A:A+""}Ae.styleTagTransform=Z(),Ae.setAttributes=x(),Ae.insert=z().bind(null,"head"),Ae.domAPI=B(),Ae.insertStyleElement=O(),M()(ee.A,Ae),ee.A&&ee.A.locals&&ee.A.locals;var me=function(e){function A(){var e;!function(e,A){if(!(e instanceof A))throw new TypeError("Cannot call a class as a function")}(this,A);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return ue(e=ie(this,A,[].concat(r)),"state",{enabled:!1,clippedObjects:{},planeX:0,planeY:0,planeA:0}),ue(e,"updateClippingPlane",function(){var A=new v.Pq0(e.state.planeX,e.state.planeY,0),t=e.state.planeA/180*Math.PI,n=new v.Pq0(Math.sin(t),Math.cos(t),0),r=new v.Zcv,o=new v.Zcv;r.setFromNormalAndCoplanarPoint(n,A),o.setFromNormalAndCoplanarPoint(n.multiplyScalar(-1),A),Object.entries(e.state.clippedObjects).forEach(function(A){var t=function(e,A){return function(e){if(Array.isArray(e))return e}(e)||function(e,A){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,r,o,a,i=[],c=!0,s=!1;try{if(o=(t=t.call(e)).next,0===A){if(Object(t)!==t)return;c=!1}else for(;!(c=(n=o.call(t)).done)&&(i.push(n.value),i.length!==A);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(s)throw r}}return i}}(e,A)||function(e,A){if(e){if("string"==typeof e)return oe(e,A);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?oe(e,A):void 0}}(e,A)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(A,2),n=t[0],a=t[1],i=[];a.left&&i.push(r),a.right&&i.push(o),"__terrain"===n?e.props.sceneContext.map.clippingPlanes=i:e.props.sceneContext.getSceneObject(n).clippingPlanes=i}),e.props.sceneContext.scene.notifyChange(),e.positionArrows(e.state.planeX,e.state.planeY,e.state.planeA)}),ue(e,"clearClippingPlane",function(){Object.keys(e.state.clippedObjects).forEach(function(A){"__terrain"===A?e.props.sceneContext.map.clippingPlanes=[]:e.props.sceneContext.getSceneObject(A).clippingPlanes=[]}),e.props.active&&e.disableArrows(),e.props.sceneContext.scene.notifyChange()}),ue(e,"enableArrows",function(){e.props.sceneContext.addSceneObject("__compareArrows",e.arrows),e.props.sceneContext.scene.view.controls.addEventListener("change",e.centerArrowsInView),e.props.sceneContext.scene.renderer.domElement.addEventListener("pointerdown",e.dragArrows)}),ue(e,"disableArrows",function(){var A,t;null===(A=e.props.sceneContext.scene.view.controls)||void 0===A||null===(t=A.removeEventListener)||void 0===t||t.call(A,"change",e.centerArrowsInView),e.props.sceneContext.removeSceneObject("__compareArrows"),e.props.sceneContext.scene.renderer.domElement.removeEventListener("pointerdown",e.dragArrows)}),ue(e,"dragArrows",function(A){var t=function(e){var A=e.target.getBoundingClientRect(),t=(e.clientX-A.left)/A.width*2-1,n=-(e.clientY-A.top)/A.height*2+1;return new v.I9Y(t,n)},n=e.props.sceneContext.scene.view.camera,r=new v.tBo;if(r.setFromCamera(t(A),n),r.intersectObject(e.arrows).length>0){var o=(new v.Zcv).setFromNormalAndCoplanarPoint(new v.Pq0(0,0,1),e.arrows.position),a=r.ray.intersectPlane(o,new v.Pq0),i=new v.I9Y(e.state.planeX,e.state.planeY),c=e.state.planeA/180*Math.PI,s=new v.Pq0(Math.sin(c),Math.cos(c),0),l=function(A){r.setFromCamera(t(A),n),o.setFromNormalAndCoplanarPoint(new v.Pq0(0,0,1),e.arrows.position);var c=r.ray.intersectPlane(o,new v.Pq0),l=s.clone().multiplyScalar((new v.Pq0).copy(c.sub(a)).dot(s));e.setState({planeX:i.x+l.x,planeY:i.y+l.y}),e.positionArrows(i.x+l.x,i.y+l.y,e.state.planeA)};e.props.sceneContext.scene.view.controls.enabled=!1,A.view.addEventListener("pointermove",l),A.view.addEventListener("pointerup",function(){e.props.sceneContext.scene.view.controls.enabled=!0,A.view.removeEventListener("pointermove",l)},{once:!0})}}),ue(e,"centerArrowsInView",function(){var A=e.props.sceneContext.scene.view.controls.target.clone(),t=e.state.planeA/180*Math.PI,n=new v.Pq0(Math.cos(t),-Math.sin(t),0),r=new v.Pq0(e.state.planeX,e.state.planeY,0),o=r.add(n.multiplyScalar(A.sub(r).dot(n)));e.setState({planeX:o.x,planeY:o.y}),e.positionArrows(o.x,o.y,e.state.planeA)}),ue(e,"positionArrows",function(A,t,n){var r=new v.Pq0(A,t,0),o=e.props.sceneContext.scene.view.camera.position.distanceTo(r),a=Math.max(1,o/200),i=new X.Ay(e.props.sceneContext.mapCrs,A,t,0),c=e.props.sceneContext.map.getElevation({coordinates:i}),s=0;c.samples.length>0&&(c.samples.sort(function(e,A){return e.resolution-A.resolution}),s=c.samples[0].elevation),e.arrows.position.x=r.x,e.arrows.position.y=r.y,e.arrows.position.z=s,e.arrows.rotation.z=-n/180*Math.PI,e.arrows.scale.set(a,a,a),e.arrows.updateMatrixWorld()}),ue(e,"renderBody",function(){var A=e.props.sceneContext,t=re({__terrain:{layertree:!0,title:V.A.tr("map3d.terrain")}},A.sceneObjects),r=Object.keys(t).filter(function(e){return t[e].layertree});return n.createElement("div",{className:"compare3d-body",role:"body"},n.createElement("div",{className:"compare3d-title",onClick:e.toggleCompare},n.createElement(q.A,{icon:e.state.enabled?"checked":"unchecked"}),n.createElement("span",null,V.A.tr("compare3d.compare_objects"))),n.createElement("div",{className:"compare3d-objects"},["left","right"].map(function(A){var o=e.state.clippedObjects,a="checked",i=!0,c=r.reduce(function(e,t){var n;return e+(null===(n=o[t])||void 0===n?void 0:n[A])},0);return c===r.length?(a="unchecked",i=!1):c>0&&(a="tristate"),n.createElement("div",{className:"compare3d-section",key:"compare-"+A},n.createElement("div",{className:"compare3d-item compare3d-item-toggleall",onClick:e.state.enabled?function(){return e.toggleAllObjects(A,r,i)}:null,title:V.A.tr("compare3d.toggleall")},n.createElement(q.A,{className:"compare3d-item-checkbox",disabled:!e.state.enabled,icon:a}),n.createElement("span",null,V.A.tr("compare3d.toggleall"))),r.map(function(r){var a,i,c;return n.createElement("div",{className:"compare3d-item",key:r,onClick:e.state.enabled?function(){return e.toggleObject(A,r)}:null,title:null!==(a=t[r].title)&&void 0!==a?a:r},n.createElement(q.A,{className:"compare3d-item-checkbox",disabled:!e.state.enabled,icon:null!==(i=o[r])&&void 0!==i&&i[A]?"unchecked":"checked"}),n.createElement("span",null,null!==(c=t[r].title)&&void 0!==c?c:r))}))})),n.createElement("div",{className:"compare3d-title"},V.A.tr("compare3d.clipplane")),n.createElement("table",{className:"compare3d-planeconfig"},n.createElement("tbody",null,n.createElement("tr",null,n.createElement("td",null,"x"),n.createElement("td",null,n.createElement($.A,{disabled:!e.state.enabled,onChange:function(A){return e.setState({planeX:A})},value:e.state.planeX}))),n.createElement("tr",null,n.createElement("td",null,"y"),n.createElement("td",null,n.createElement($.A,{disabled:!e.state.enabled,onChange:function(A){return e.setState({planeY:A})},value:e.state.planeY}))),n.createElement("tr",null,n.createElement("td",null,"α"),n.createElement("td",null,n.createElement($.A,{disabled:!e.state.enabled,onChange:function(A){return e.setState({planeA:A})},suffix:"°",value:e.state.planeA}))))))}),ue(e,"toggleCompare",function(){e.setState(function(A){var t={enabled:!A.enabled};return t.enabled&&(t.planeX=e.props.sceneContext.scene.view.controls.target.x,t.planeY=e.props.sceneContext.scene.view.controls.target.y,t.planeA=-e.props.sceneContext.scene.view.controls.getAzimuthalAngle()/Math.PI*180+90),t})}),ue(e,"toggleObject",function(A,t){e.setState(function(e){var n;return{clippedObjects:re(re({},e.clippedObjects),{},ue({},t,re(re({},e.clippedObjects[t]),{},ue({},A,!(null!==(n=e.clippedObjects[t])&&void 0!==n&&n[A])))))}})}),ue(e,"toggleAllObjects",function(A,t,n){e.setState(function(e){return{clippedObjects:t.reduce(function(t,r){return re(re({},t),{},ue({},r,re(re({},e.clippedObjects[r]),{},ue({},A,n))))},{})}})}),e}return function(e,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(A&&A.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),A&&le(e,A)}(A,e),t=A,(r=[{key:"componentDidMount",value:function(){var e=this;(new J.B).load("data:model/gltf-binary;base64,Z2xURgIAAADYHAAAXAQAAEpTT057ImFzc2V0Ijp7ImdlbmVyYXRvciI6Iktocm9ub3MgZ2xURiBCbGVuZGVyIEkvTyB2NC4yLjcwIiwidmVyc2lvbiI6IjIuMCJ9LCJzY2VuZSI6MCwic2NlbmVzIjpbeyJuYW1lIjoiU2NlbmUiLCJub2RlcyI6WzFdfV0sIm5vZGVzIjpbeyJtZXNoIjowLCJuYW1lIjoiQ3ViZS4wMDFfQ3ViZS4wMDIifSx7ImNoaWxkcmVuIjpbMF0sIm5hbWUiOiJhcnJvd0JsZW5kZXJfMDEub2JqIiwicm90YXRpb24iOlswLjcwNzEwNjgyODY4OTU3NTIsMCwwLDAuNzA3MTA2ODI4Njg5NTc1Ml19XSwibWF0ZXJpYWxzIjpbeyJlbWlzc2l2ZUZhY3RvciI6WzAsMSwwXSwibmFtZSI6Ik1hdGVyaWFsLjAwMSIsInBick1ldGFsbGljUm91Z2huZXNzIjp7ImJhc2VDb2xvckZhY3RvciI6WzAsMSwwLDFdLCJtZXRhbGxpY0ZhY3RvciI6MC41LCJyb3VnaG5lc3NGYWN0b3IiOjAuNX19XSwibWVzaGVzIjpbeyJuYW1lIjoiTWVzaF8wIiwicHJpbWl0aXZlcyI6W3siYXR0cmlidXRlcyI6eyJQT1NJVElPTiI6MCwiTk9STUFMIjoxfSwiaW5kaWNlcyI6MiwibWF0ZXJpYWwiOjB9XX1dLCJhY2Nlc3NvcnMiOlt7ImJ1ZmZlclZpZXciOjAsImNvbXBvbmVudFR5cGUiOjUxMjYsImNvdW50IjoyNDAsIm1heCI6WzcuMDY1MDQ0ODc5OTEzMzMsMC41NDM2MTcwMTAxMTY1NzcxLDIuOTkzNjQzMDQ1NDI1NDE1XSwibWluIjpbLTMuMjc1Mjc5MDQ1MTA0OTgwNSwtMC41NDM2MTU5OTY4Mzc2MTYsLTIuOTkzNjQzMDQ1NDI1NDE1XSwidHlwZSI6IlZFQzMifSx7ImJ1ZmZlclZpZXciOjEsImNvbXBvbmVudFR5cGUiOjUxMjYsImNvdW50IjoyNDAsInR5cGUiOiJWRUMzIn0seyJidWZmZXJWaWV3IjoyLCJjb21wb25lbnRUeXBlIjo1MTIzLCJjb3VudCI6MjQwLCJ0eXBlIjoiU0NBTEFSIn1dLCJi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AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAPkSaz8AAAAAKL7KvvkSaz8AAAAAKL7KvvkSaz8AAAAAKL7KvvkSaz8AAAAAKL7KvvkSaz8AAAAAKL7KvvkSaz8AAAAAKL7KvgAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAALa3HT8AAAAAZ6VJv7a3HT8AAAAAZ6VJv8NcHj8AAAAA4iNJv7a3HT8AAAAAZ6VJv8NcHj8AAAAA4iNJv8NcHj8AAAAA4iNJvwLeJD8AAAAABNhDvwLeJD8AAAAABNhDvwLeJD8AAAAABNhDvwLeJD8AAAAABNhDvwLeJD8AAAAABNhDvwLeJD8AAAAABNhDvwAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAAAAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAFKfHD8AAAAAfX9Kv1KfHD8AAAAAfX9Kv+RBHT8AAAAAVgFKv1KfHD8AAAAAfX9Kv+RBHT8AAAAAVgFKv+RBHT8AAAAAVgFKvwAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAAAAAAAAAAAAAAAAAAAACAPwAAAAAAAAAAAACAPwAAAAAAAAAAAACAPwAAAAAAAAAAAACAPwAAAAAAAAAAAACAPwAAAAAAAAAAAACAPwAAAAAAAAAAAACAPwAAAAAAAAAAAACAPwAAAAAAAAAAAACAPwAAAAAAAAAAAACAPwAAAAAAAAAAAACAPwAAAAAAAAAAAACAPwAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAPkSaz8AAAAAKL7KPvkSaz8AAAAAKL7KPvkSaz8AAAAAKL7KPvkSaz8AAAAAKL7KPvkSaz8AAAAAKL7KPvkSaz8AAAAAKL7KPgAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAALa3HT8AAAAAZ6VJP8NcHj8AAAAA4iNJP8NcHj8AAAAA4iNJP7a3HT8AAAAAZ6VJP8NcHj8AAAAA4iNJP7a3HT8AAAAAZ6VJPwLeJD8AAAAABNhDPwLeJD8AAAAABNhDPwLeJD8AAAAABNhDPwLeJD8AAAAABNhDPwLeJD8AAAAABNhDPwLeJD8AAAAABNhDPwAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAAAAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAFKfHD8AAAAAfX9KP+RBHT8AAAAAVgFKP+RBHT8AAAAAVgFKP1KfHD8AAAAAfX9KP+RBHT8AAAAAVgFKP1KfHD8AAAAAfX9KPwAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIA/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAAAAAIC/AAAAAAAAAQACAAMABAAFAAYABwAIAAkACgALAAwADQAOAA8AEAARABIAEwAUABUAFgAXABgAGQAaABsAHAAdAB4AHwAgACEAIgAjACQAJQAmACcAKAApACoAKwAsAC0ALgAvADAAMQAyADMANAA1ADYANwA4ADkAOgA7ADwAPQA+AD8AQABBAEIAQwBEAEUARgBHAEgASQBKAEsATABNAE4ATwBQAFEAUgBTAFQAVQBWAFcAWABZAFoAWwBcAF0AXgBfAGAAYQBiAGMAZABlAGYAZwBoAGkAagBrAGwAbQBuAG8AcABxAHIAcwB0AHUAdgB3AHgAeQB6AHsAfAB9AH4AfwCAAIEAggCDAIQAhQCGAIcAiACJAIoAiwCMAI0AjgCPAJAAkQCSAJMAlACVAJYAlwCYAJkAmgCbAJwAnQCeAJ8AoAChAKIAowCkAKUApgCnAKgAqQCqAKsArACtAK4ArwCwALEAsgCzALQAtQC2ALcAuAC5ALoAuwC8AL0AvgC/AMAAwQDCAMMAxADFAMYAxwDIAMkAygDLAMwAzQDOAM8A0ADRANIA0wDUANUA1gDXANgA2QDaANsA3ADdAN4A3wDgAOEA4gDjAOQA5QDmAOcA6ADpAOoA6wDsAO0A7gDvAA==",function(A){A.scene.traverse(function(e){e.isMesh&&(e.material.depthTest=!1,e.material.depthWrite=!1)}),A.scene.renderOrder=9999999;var t=A.scene.clone();t.position.y=-4,t.rotation.z=-.5*Math.PI;var n=A.scene.clone();n.position.y=4,n.rotation.z=.5*Math.PI,e.arrows=new v.YJl,e.arrows.add(t),e.arrows.add(n)})}},{key:"componentWillUnmount",value:function(){this.clearClippingPlane(),this.arrows.traverse(function(e){var A;return null===(A=e.dispose)||void 0===A?void 0:A.call(e)})}},{key:"componentDidUpdate",value:function(e,A){this.state.enabled&&this.props.active&&!e.active?this.enableArrows():this.state.enabled&&!this.props.active&&e.active&&this.disableArrows(),this.state.enabled&&this.state!==A?(this.props.active&&!A.enabled&&this.enableArrows(),this.updateClippingPlane()):!this.state.enabled&&A.enabled&&this.clearClippingPlane()}},{key:"render",value:function(){var e=this;return n.createElement("div",null,n.createElement(_.A,{icon:"layers",id:"Compare3D",title:V.A.tr("appmenu.items.Compare3D"),width:"20em"},function(){return{body:e.renderBody()}}))}}])&&ae(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r}(n.Component);ue(me,"propTypes",{active:d().bool,sceneContext:d().object});const de=(0,r.Ng)(function(e){return{active:"Compare3D"===e.task.id}},{})(me);var ve=t(66299),ge=t(70431),fe=t(87278),we=t(47376),be=t(52400);function ye(e){return ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ye(e)}function Ce(e,A,t){if(Me())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,A);var r=new(e.bind.apply(e,n));return t&&Be(r,t.prototype),r}function he(e){return function(e){if(Array.isArray(e))return Pe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,A){if(e){if("string"==typeof e)return Pe(e,A);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Pe(e,A):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,A){(null==A||A>e.length)&&(A=e.length);for(var t=0,n=Array(A);t<A;t++)n[t]=e[t];return n}function Ie(e,A){for(var t=0;t<A.length;t++){var n=A[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ze(n.key),n)}}function Me(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Me=function(){return!!e})()}function je(e){return je=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},je(e)}function Be(e,A){return Be=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,A){return e.__proto__=A,e},Be(e,A)}function De(e,A,t){return(A=ze(A))in e?Object.defineProperty(e,A,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[A]=t,e}function ze(e){var A=function(e){if("object"!=ye(e)||!e)return e;var A=e[Symbol.toPrimitive];if(void 0!==A){var t=A.call(e,"string");if("object"!=ye(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ye(A)?A:A+""}var Ee=function(e){function A(){var e;!function(e,A){if(!(e instanceof A))throw new TypeError("Cannot call a class as a function")}(this,A);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return De(e=function(e,A,t){return A=je(A),function(e,A){if(A&&("object"==ye(A)||"function"==typeof A))return A;if(void 0!==A)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Me()?Reflect.construct(A,t||[],je(e).constructor):A.apply(e,t))}(this,A,[].concat(n)),"moveDrawCursor",function(A){var t=A.target.getBoundingClientRect(),n=(A.clientX-t.left)/t.width*2-1,r=-(A.clientY-t.top)/t.height*2+1,o=e.props.sceneContext.getSceneIntersection(n,r);if(o){var a=o.point;e.drawCursor.setPoints([a])}else e.drawCursor.setPoints([]);e.props.sceneContext.scene.notifyChange()}),De(e,"drawShapeOnRelease",function(A){if(0===A.button){var t=e.props.sceneContext.scene.renderer;t.domElement.addEventListener("pointerup",e.drawShape,{once:!0}),t.domElement.addEventListener("pointermove",function(){t.domElement.removeEventListener("pointerup",e.drawShape)})}}),De(e,"drawShape",function(){var A=e.props.sceneContext.getSceneObject(e.props.drawGroupId);if(0!==e.drawCursor.points.length&&A){var t=null,n=e.props.baseSize;if("Cuboid"===e.props.geomType)t=new v.iNn(n,n,n);else if("Wedge"===e.props.geomType){var r=new v.ypk;r.moveTo(-.5*n,-.5*n),r.lineTo(.5*n,-.5*n),r.lineTo(.5*n,.5*n),r.lineTo(-.5*n,-.5*n),t=new v.QCA(r,{depth:n})}else"Cylinder"===e.props.geomType?t=new v.Ho_(.5*n,.5*n,n):"Pyramid"===e.props.geomType?(t=(t=new v.qFE(.5*n*Math.sqrt(2),n,4,1,!1,Math.PI/4)).toNonIndexed()).computeVertexNormals():"Sphere"===e.props.geomType?t=new v.Gu$(.5*n):"Cone"===e.props.geomType&&(t=new v.qFE(.5*n,n));if(t){t.rotateX(Math.PI/2);var o=new v._4j({color:Ce(v.Q1f,he(e.props.color.map(function(e){return e/255})))}),a=new v.eaF(t,o);A.add(a),a.position.copy(e.drawCursor.points[0]),a.position.z+=.5*n,a.updateMatrixWorld(),e.props.sceneContext.scene.notifyChange(),e.props.objectCreated(a)}}}),e}return function(e,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(A&&A.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),A&&Be(e,A)}(A,e),t=A,(r=[{key:"componentDidMount",value:function(){this.drawCursor=new we.Ay({showVertices:!0}),this.props.sceneContext.addSceneObject("__drawCursor",this.drawCursor);var e=this.props.sceneContext.scene.renderer;e.domElement.addEventListener("pointermove",this.moveDrawCursor),e.domElement.addEventListener("pointerdown",this.drawShapeOnRelease)}},{key:"componentWillUnmount",value:function(){this.props.sceneContext.removeSceneObject("__drawCursor");var e=this.props.sceneContext.scene.renderer;e.domElement.removeEventListener("pointermove",this.moveDrawCursor),e.domElement.removeEventListener("pointerdown",this.drawShapeOnRelease)}},{key:"render",value:function(){return n.createElement("div",{className:"redlining-controlsbar"},n.createElement("span",null,n.createElement(q.A,{className:"redlining-control-icon",icon:"pen",size:"large"}),n.createElement(be.A,{alpha:!1,color:this.props.color,onColorChanged:this.props.colorChanged})),n.createElement("span",null,n.createElement("span",null,V.A.tr("redlining.size"),": "),n.createElement($.A,{max:99,min:1,mobile:!0,onChange:this.props.baseSizeChanged,value:this.props.baseSize})))}}])&&Ie(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r}(n.Component);De(Ee,"propTypes",{baseSize:d().number,baseSizeChanged:d().func,color:d().array,colorChanged:d().func,drawGroupId:d().string,geomType:d().string,objectCreated:d().func,sceneContext:d().object});var xe=t(3193),ke=t(22483),Oe=t(3724);function Te(e){return Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Te(e)}function Ze(e){return function(e){if(Array.isArray(e))return Le(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,A){if(e){if("string"==typeof e)return Le(e,A);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Le(e,A):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(e,A){(null==A||A>e.length)&&(A=e.length);for(var t=0,n=Array(A);t<A;t++)n[t]=e[t];return n}function Se(e,A){for(var t=0;t<A.length;t++){var n=A[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ue(n.key),n)}}function Qe(e,A,t){return A=Ne(A),function(e,A){if(A&&("object"==Te(A)||"function"==typeof A))return A;if(void 0!==A)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,We()?Reflect.construct(A,t||[],Ne(e).constructor):A.apply(e,t))}function We(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(We=function(){return!!e})()}function Ne(e){return Ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ne(e)}function Re(e,A){return Re=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,A){return e.__proto__=A,e},Re(e,A)}function Ge(e,A,t){return(A=Ue(A))in e?Object.defineProperty(e,A,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[A]=t,e}function Ue(e){var A=function(e){if("object"!=Te(e)||!e)return e;var A=e[Symbol.toPrimitive];if(void 0!==A){var t=A.call(e,"string");if("object"!=Te(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Te(A)?A:A+""}var Ye=function(e){function A(e){var t;return function(e,A){if(!(e instanceof A))throw new TypeError("Cannot call a class as a function")}(this,A),Ge(t=Qe(this,A,[e]),"state",{pos:[0,0,0],rot:[0,0,0],scale:[1,1,1]}),Ge(t,"updateStateFromObject",function(){t.props.selectedObject?t.setState({pos:t.props.selectedObject.position.toArray(),rot:t.props.selectedObject.rotation.toArray().slice(0,3).map(function(e){return e/Math.PI*180}),scale:t.props.selectedObject.scale.toArray()}):t.setState({pos:[0,0,0],rot:[0,0,0],scale:[1,1,1]})}),Ge(t,"updatePosition",function(e,A){var n,r=Ze(t.state.pos);r[e]=A,(n=t.props.selectedObject.position).set.apply(n,Ze(r)),t.update()}),Ge(t,"updateRotation",function(e,A){var n,r=Ze(t.state.rot);r[e]=A,(n=t.props.selectedObject.rotation).set.apply(n,Ze(r.map(function(e){return e/180*Math.PI})).concat([t.props.selectedObject.rotation.order])),t.update()}),Ge(t,"updateScale",function(e,A){var n,r=Ze(t.state.scale);r[e]=A,(n=t.props.selectedObject.scale).set.apply(n,Ze(r)),t.update()}),Ge(t,"update",function(){t.props.selectedObject.updateMatrixWorld(),t.props.transformControls.getHelper().updateMatrixWorld(),t.updateStateFromObject(),t.props.sceneContext.scene.notifyChange()}),t.el=document.createElement("div"),t.props.sceneContext.scene.viewport.parentElement.appendChild(t.el),t}return function(e,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(A&&A.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),A&&Re(e,A)}(A,e),t=A,(r=[{key:"componentDidMount",value:function(){this.props.transformControls.addEventListener("change",this.updateStateFromObject),this.updateStateFromObject()}},{key:"componentDidUpdate",value:function(e){this.props.selectedObject!==e.selectedObject&&this.updateStateFromObject()}},{key:"componentWillUnmount",value:function(){this.props.sceneContext.scene.viewport.parentElement.removeChild(this.el),this.props.transformControls.removeEventListener("change",this.updateStateFromObject)}},{key:"render",value:function(){var e=this,A=this.state.pos,t=this.state.rot,r=this.state.scale,o=!this.props.selectedObject,a=n.createElement(Oe.A,{fitHeight:!0,icon:"numericinput",initialWidth:300,initialX:-1,onClose:this.props.toggleNumericInput,scrollable:!0,title:V.A.tr("draw3d.numericinput")},n.createElement("div",{className:"draw3d-numeric-input-body",role:"body"},n.createElement("table",null,n.createElement("tbody",null,n.createElement("tr",null,n.createElement("td",null,V.A.tr("draw3d.position")),n.createElement("td",null,n.createElement($.A,{decimals:0,disabled:o,onChange:function(A){return e.updatePosition(0,A)},value:A[0]})),n.createElement("td",null,n.createElement($.A,{decimals:0,disabled:o,onChange:function(A){return e.updatePosition(1,A)},value:A[1]})),n.createElement("td",null,n.createElement($.A,{decimals:0,disabled:o,onChange:function(A){return e.updatePosition(2,A)},value:A[2]}))),n.createElement("tr",null,n.createElement("td",null,V.A.tr("draw3d.rotation")),n.createElement("td",null,n.createElement($.A,{decimals:1,disabled:o,onChange:function(A){return e.updateRotation(0,A)},suffix:"°",value:t[0]})),n.createElement("td",null,n.createElement($.A,{decimals:1,disabled:o,onChange:function(A){return e.updateRotation(1,A)},suffix:"°",value:t[1]})),n.createElement("td",null,n.createElement($.A,{decimals:1,disabled:o,onChange:function(A){return e.updateRotation(2,A)},suffix:"°",value:t[2]}))),n.createElement("tr",null,n.createElement("td",null,V.A.tr("draw3d.thescale")),n.createElement("td",null,n.createElement($.A,{decimals:1,disabled:o,onChange:function(A){return e.updateScale(0,A)},value:r[0]})),n.createElement("td",null,n.createElement($.A,{decimals:1,disabled:o,onChange:function(A){return e.updateScale(1,A)},value:r[1]})),n.createElement("td",null,n.createElement($.A,{decimals:1,disabled:o,onChange:function(A){return e.updateScale(2,A)},value:r[2]})))))));return ke.createPortal(a,this.el)}}])&&Se(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r}(n.Component);function Fe(e){return Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fe(e)}function Ke(e,A){(null==A||A>e.length)&&(A=e.length);for(var t=0,n=Array(A);t<A;t++)n[t]=e[t];return n}function He(e,A){for(var t=0;t<A.length;t++){var n=A[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$e(n.key),n)}}function Xe(e,A,t){return A=Ve(A),function(e,A){if(A&&("object"==Fe(A)||"function"==typeof A))return A;if(void 0!==A)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Je()?Reflect.construct(A,t||[],Ve(e).constructor):A.apply(e,t))}function Je(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Je=function(){return!!e})()}function Ve(e){return Ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ve(e)}function qe(e,A){return qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,A){return e.__proto__=A,e},qe(e,A)}function _e(e,A,t){return(A=$e(A))in e?Object.defineProperty(e,A,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[A]=t,e}function $e(e){var A=function(e){if("object"!=Fe(e)||!e)return e;var A=e[Symbol.toPrimitive];if(void 0!==A){var t=A.call(e,"string");if("object"!=Fe(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Fe(A)?A:A+""}Ge(Ye,"propTypes",{sceneContext:d().object,selectedObject:d().object,toggleNumericInput:d().func,transformControls:d().object});var eA=function(e){function A(){var e;!function(e,A){if(!(e instanceof A))throw new TypeError("Cannot call a class as a function")}(this,A);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _e(e=Xe(this,A,[].concat(n)),"state",{mode:"translate",numericInput:!1}),_e(e,"selectShapeOnRelease",function(A){if(0===A.button&&!e.transformControls.dragging){var t=e.props.sceneContext.scene.renderer;t.domElement.addEventListener("pointerup",e.selectShape,{once:!0}),t.domElement.addEventListener("pointermove",function(){t.domElement.removeEventListener("pointerup",e.selectShape)})}}),_e(e,"selectShape",function(A){var t=A.target.getBoundingClientRect(),n=(A.clientX-t.left)/t.width*2-1,r=-(A.clientY-t.top)/t.height*2+1,o=e.props.sceneContext.getSceneIntersection(n,r);if(o){for(var a=o.object,i=e.props.sceneContext.getSceneObject(e.props.drawGroupId),c=a.parent;c;c=c.parent)if(c===i)return void e.props.objectPicked(a);e.props.objectPicked(null)}}),_e(e,"updateTransformHelper",function(){e.transformControls.getHelper().updateMatrixWorld(),e.props.sceneContext.scene.notifyChange()}),_e(e,"toolChanged",function(){var A,t;null===(A=e.props.selectedObject)||void 0===A||null===(t=A.updateMatrixWorld)||void 0===t||t.call(A),e.transformControls.getHelper().updateMatrixWorld(),e.props.sceneContext.scene.notifyChange()}),_e(e,"onKeyDown",function(A){"Escape"===A.key&&e.transformControls.reset()}),_e(e,"toggleNumericInput",function(){e.setState(function(e){return{numericInput:!e.numericInput}})}),e}return function(e,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(A&&A.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),A&&qe(e,A)}(A,e),t=A,(r=[{key:"componentDidMount",value:function(){var e=this,A=this.props.sceneContext.scene.view.camera,t=this.props.sceneContext.scene.renderer;this.transformControls=new xe.ZU(A,t.domElement),this.props.sceneContext.scene.add(this.transformControls.getHelper()),this.transformControls.setMode(this.state.mode),this.transformControls.addEventListener("change",this.toolChanged),this.transformControls.addEventListener("mouseUp",this.toolChanged),this.transformControls.addEventListener("dragging-changed",function(A){e.props.sceneContext.scene.view.controls.enabled=!A.value}),t.domElement.addEventListener("pointerdown",this.selectShapeOnRelease),t.domElement.addEventListener("keydown",this.onKeyDown),this.props.selectedObject&&(this.transformControls.attach(this.props.selectedObject),this.transformControls.getHelper().updateMatrixWorld(),this.props.colorChanged(this.props.selectedObject.material.color.toArray().map(function(e){return 255*e}))),this.props.sceneContext.scene.view.controls.addEventListener("change",this.updateTransformHelper),this.props.sceneContext.scene.notifyChange()}},{key:"componentDidUpdate",value:function(e,A){var t;this.props.selectedObject!==e.selectedObject&&(e.selectedObject&&this.transformControls.detach(),this.props.selectedObject&&(this.transformControls.attach(this.props.selectedObject),this.props.colorChanged(this.props.selectedObject.material.color.toArray().map(function(e){return 255*e}))),this.transformControls.getHelper().updateMatrixWorld(),this.props.sceneContext.scene.notifyChange()),this.state.mode!==A.mode&&(this.transformControls.setMode(this.state.mode),this.transformControls.getHelper().updateMatrixWorld(),this.props.sceneContext.scene.notifyChange()),this.props.color!==e.color&&this.props.selectedObject&&((t=this.props.selectedObject.material.color).setRGB.apply(t,function(e){return function(e){if(Array.isArray(e))return Ke(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,A){if(e){if("string"==typeof e)return Ke(e,A);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Ke(e,A):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.props.color.map(function(e){return e/255}))),this.props.sceneContext.scene.notifyChange())}},{key:"componentWillUnmount",value:function(){this.transformControls.detach(),this.props.sceneContext.scene.remove(this.transformControls.getHelper()),this.transformControls.dispose();var e=this.props.sceneContext.scene.renderer.domElement;this.props.sceneContext.scene.view.controls.removeEventListener("change",this.updateTransformHelper),e.removeEventListener("pointerdown",this.selectShapeOnRelease),e.removeEventListener("keydown",this.onKeyDown),this.props.sceneContext.scene.notifyChange()}},{key:"render",value:function(){var e=this,A=[{key:"translate",label:V.A.tr("draw3d.translate")},{key:"scale",label:V.A.tr("draw3d.scale")},{key:"rotate",label:V.A.tr("draw3d.rotate")}],t=[{key:"NumericInput",tooltip:V.A.tr("draw3d.numericinput"),icon:"numericinput"}];return n.createElement("div",{className:"redlining-controlsbar"},n.createElement("span",null,n.createElement(q.A,{className:"redlining-control-icon",icon:"pen",size:"large"}),n.createElement(be.A,{alpha:!1,color:this.props.color,onColorChanged:this.props.colorChanged})),n.createElement("span",null,n.createElement(fe.A,{active:this.state.mode,buttons:A,onClick:function(A){return e.setState({mode:A})}})),n.createElement("span",{className:"redlining-group"},n.createElement(fe.A,{active:this.state.numericInput?"NumericInput":null,buttons:t,onClick:this.toggleNumericInput})),this.state.numericInput?n.createElement(Ye,{sceneContext:this.props.sceneContext,selectedObject:this.props.selectedObject,toggleNumericInput:this.toggleNumericInput,transformControls:this.transformControls}):null)}}])&&He(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r}(n.Component);_e(eA,"propTypes",{color:d().array,colorChanged:d().func,drawGroupId:d().string,objectPicked:d().func,sceneContext:d().object,selectedObject:d().object});var AA=t(89600),tA={};function nA(e){return nA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nA(e)}function rA(e,A){return function(e){if(Array.isArray(e))return e}(e)||function(e,A){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,r,o,a,i=[],c=!0,s=!1;try{if(o=(t=t.call(e)).next,0===A){if(Object(t)!==t)return;c=!1}else for(;!(c=(n=o.call(t)).done)&&(i.push(n.value),i.length!==A);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(s)throw r}}return i}}(e,A)||function(e,A){if(e){if("string"==typeof e)return oA(e,A);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?oA(e,A):void 0}}(e,A)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oA(e,A){(null==A||A>e.length)&&(A=e.length);for(var t=0,n=Array(A);t<A;t++)n[t]=e[t];return n}function aA(e,A){for(var t=0;t<A.length;t++){var n=A[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pA(n.key),n)}}function iA(e,A,t){return A=sA(A),function(e,A){if(A&&("object"==nA(A)||"function"==typeof A))return A;if(void 0!==A)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,cA()?Reflect.construct(A,t||[],sA(e).constructor):A.apply(e,t))}function cA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(cA=function(){return!!e})()}function sA(e){return sA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sA(e)}function lA(e,A){return lA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,A){return e.__proto__=A,e},lA(e,A)}function uA(e,A,t){return(A=pA(A))in e?Object.defineProperty(e,A,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[A]=t,e}function pA(e){var A=function(e){if("object"!=nA(e)||!e)return e;var A=e[Symbol.toPrimitive];if(void 0!==A){var t=A.call(e,"string");if("object"!=nA(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==nA(A)?A:A+""}tA.styleTagTransform=Z(),tA.setAttributes=x(),tA.insert=z().bind(null,"head"),tA.domAPI=B(),tA.insertStyleElement=O(),M()(AA.A,tA),AA.A&&AA.A.locals&&AA.A.locals;var mA=function(e){function A(){var e;!function(e,A){if(!(e instanceof A))throw new TypeError("Cannot call a class as a function")}(this,A);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return uA(e=iA(this,A,[].concat(r)),"state",{action:null,baseSize:10,color:[255,105,0,1],geomType:null,drawGroupId:"",selectedObject:null}),uA(e,"onShow",function(){var A=Object.entries(e.props.sceneContext.sceneObjects).find(function(e){var A=rA(e,2);return A[0],!0===A[1].drawGroup});void 0===A?e.addDrawGroup(V.A.tr("draw3d.drawings")):e.setState({drawGroupId:A[0]}),e.setState({action:"Pick"})}),uA(e,"onHide",function(){Object.entries(e.props.sceneContext.sceneObjects).filter(function(e){var A=rA(e,2);return A[0],!0===A[1].drawGroup}).forEach(function(A){var t=rA(A,2),n=t[0];t[1],0===e.props.sceneContext.getSceneObject(n).children.length&&e.props.sceneContext.removeSceneObject(n)})}),uA(e,"createDrawGroup",function(){var A=V.A.tr("draw3d.newgroupprompt"),t=prompt(A);t&&e.addDrawGroup(t)}),uA(e,"addDrawGroup",function(A){var t=(0,ve.A)(),n={drawGroup:!0,layertree:!0,title:A};e.props.sceneContext.addSceneObject(t,new v.YJl,n),e.setState({drawGroupId:t})}),uA(e,"renderBody",function(){var A="Create"===e.state.action?e.state.geomType:e.state.action,t=[{key:"Cuboid",tooltip:V.A.tr("draw3d.cuboid"),icon:"cuboid",data:{action:"Create",geomType:"Cuboid"}},{key:"Wedge",tooltip:V.A.tr("draw3d.wedge"),icon:"wedge",data:{action:"Create",geomType:"Wedge"}},{key:"Cylinder",tooltip:V.A.tr("draw3d.cylinder"),icon:"cylinder",data:{action:"Create",geomType:"Cylinder"}},[{key:"Pyramid",tooltip:V.A.tr("draw3d.pyramid"),icon:"pyramid",data:{action:"Create",geomType:"Pyramid"}},{key:"Sphere",tooltip:V.A.tr("draw3d.sphere"),icon:"sphere",data:{action:"Create",geomType:"Sphere"}},{key:"Cone",tooltip:V.A.tr("draw3d.cone"),icon:"cone",data:{action:"Create",geomType:"Cone"}}]],r=[{key:"Pick",tooltip:V.A.tr("draw3d.pick"),icon:"nodetool",data:{action:"Pick",geomType:null}},{key:"Delete",tooltip:V.A.tr("draw3d.delete"),icon:"trash",data:{action:"Delete",geomType:null},disabled:!e.state.selectedObject}],o=Object.entries(e.props.sceneContext.sceneObjects).filter(function(e){var A=rA(e,2);return A[0],!0===A[1].drawGroup});return n.createElement("div",null,n.createElement("div",{className:"redlining-buttongroups"},n.createElement("div",{className:"redlining-group"},n.createElement("div",null,V.A.tr("redlining.layer")),n.createElement("div",{className:"controlgroup"},n.createElement("select",{onChange:function(A){return e.setState({drawGroupId:A.target.value})},value:e.state.drawGroupId},o.map(function(e){var A=rA(e,2),t=A[0],r=A[1];return n.createElement("option",{key:t,value:t},r.title)})),n.createElement("button",{className:"button",onClick:e.createDrawGroup},n.createElement(q.A,{icon:"plus"})))),n.createElement("div",{className:"redlining-group"},n.createElement("div",null,V.A.tr("redlining.draw")),n.createElement("span",null,n.createElement(fe.A,{active:A,buttons:t,onClick:function(A,t){return e.actionChanged(t)}}))),n.createElement("div",{className:"redlining-group"},n.createElement("div",null,V.A.tr("redlining.edit")),n.createElement(fe.A,{active:A,buttons:r,onClick:function(A,t){return e.actionChanged(t)}}))),e.renderControl())}),uA(e,"renderControl",function(){return"Create"===e.state.action?n.createElement(Ee,{baseSize:e.state.baseSize,baseSizeChanged:function(A){return e.setState({baseSize:A})},color:e.state.color,colorChanged:function(A){return e.setState({color:A})},drawGroupId:e.state.drawGroupId,geomType:e.state.geomType,objectCreated:e.objectCreated,sceneContext:e.props.sceneContext}):"Pick"===e.state.action?n.createElement(eA,{color:e.state.color,colorChanged:function(A){return e.setState({color:A})},drawGroupId:e.state.drawGroupId,objectPicked:e.objectPicked,sceneContext:e.props.sceneContext,selectedObject:e.state.selectedObject}):null}),uA(e,"actionChanged",function(A){"Delete"===A.action?(e.deleteSelectedObject(),e.setState({action:"Pick",geomType:null,selectedObject:null})):e.setState({action:A.action,geomType:A.geomType,selectedObject:null})}),uA(e,"deleteSelectedObject",function(){e.props.sceneContext.getSceneObject(e.state.drawGroupId).remove(e.state.selectedObject),e.state.selectedObject.traverse(function(e){var A;return null===(A=e.dispose)||void 0===A?void 0:A.call(e)}),e.props.sceneContext.scene.notifyChange()}),uA(e,"objectCreated",function(A){e.setState({action:"Pick",geomType:null,selectedObject:A})}),uA(e,"objectPicked",function(A){e.setState({selectedObject:A})}),e}return function(e,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(A&&A.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),A&&lA(e,A)}(A,e),t=A,(r=[{key:"render",value:function(){var e=this;return n.createElement(ge.A,{onHide:this.onHide,onShow:this.onShow,task:"Draw3D"},function(){return{body:e.renderBody()}})}}])&&aA(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r}(n.Component);uA(mA,"propTypes",{sceneContext:d().object});var dA=t(75755),vA=t.n(dA),gA=t(32205),fA={};function wA(e){return wA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wA(e)}function bA(e,A){(null==A||A>e.length)&&(A=e.length);for(var t=0,n=Array(A);t<A;t++)n[t]=e[t];return n}function yA(e,A){for(var t=0;t<A.length;t++){var n=A[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jA(n.key),n)}}function CA(e,A,t){return A=PA(A),function(e,A){if(A&&("object"==wA(A)||"function"==typeof A))return A;if(void 0!==A)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,hA()?Reflect.construct(A,t||[],PA(e).constructor):A.apply(e,t))}function hA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(hA=function(){return!!e})()}function PA(e){return PA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},PA(e)}function IA(e,A){return IA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,A){return e.__proto__=A,e},IA(e,A)}function MA(e,A,t){return(A=jA(A))in e?Object.defineProperty(e,A,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[A]=t,e}function jA(e){var A=function(e){if("object"!=wA(e)||!e)return e;var A=e[Symbol.toPrimitive];if(void 0!==A){var t=A.call(e,"string");if("object"!=wA(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==wA(A)?A:A+""}fA.styleTagTransform=Z(),fA.setAttributes=x(),fA.insert=z().bind(null,"head"),fA.domAPI=B(),fA.insertStyleElement=O(),M()(gA.A,fA),gA.A&&gA.A.locals&&gA.A.locals;var BA=function(e){function A(){var e;!function(e,A){if(!(e instanceof A))throw new TypeError("Cannot call a class as a function")}(this,A);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return MA(e=CA(this,A,[].concat(r)),"renderBody",function(){var A=e.props.sceneContext;return n.createElement("div",{className:"layertree3d-item-container"},n.createElement("div",{className:"layertree3d-section"},V.A.tr("layertree3d.objects")),Object.entries(A.sceneObjects).map(function(e){var t,r,o=function(e,A){return function(e){if(Array.isArray(e))return e}(e)||function(e,A){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,r,o,a,i=[],c=!0,s=!1;try{if(o=(t=t.call(e)).next,0===A){if(Object(t)!==t)return;c=!1}else for(;!(c=(n=o.call(t)).done)&&(i.push(n.value),i.length!==A);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(s)throw r}}return i}}(e,A)||function(e,A){if(e){if("string"==typeof e)return bA(e,A);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?bA(e,A):void 0}}(e,A)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),a=o[0],i=o[1];if(!i.layertree)return null;var c=vA()({"layertree3d-item":!0,"layertree3d-item-disabled":!i.visible});return n.createElement("div",{className:c,key:a},n.createElement(q.A,{className:"layertree3d-item-checkbox",icon:i.visible?"checked":"unchecked",onClick:function(){return A.updateSceneObject(a,{visible:!i.visible})}}),n.createElement("span",{className:"layertree3d-item-title",title:null!==(t=i.title)&&void 0!==t?t:a},null!==(r=i.title)&&void 0!==r?r:a),n.createElement("span",{className:"layertree3d-item-transparency"},n.createElement("input",{className:"layertree3d-item-transparency-slider",max:"100",min:"0",onChange:function(e){return A.updateSceneObject(a,{opacity:parseInt(e.target.value,10)/100})},step:"1",type:"range",value:100*i.opacity})))}),n.createElement("div",{className:"layertree3d-section"},V.A.tr("layertree3d.layers")),A.colorLayers.map(function(e){var t=vA()({"layertree3d-item":!0,"layertree3d-item-disabled":!e.visibility});return n.createElement("div",{className:t,key:e.id},n.createElement(q.A,{className:"layertree3d-item-checkbox",icon:e.visibility?"checked":"unchecked",onClick:function(){return A.updateColorLayer(e.id,{visibility:!e.visibility})}}),n.createElement("span",{className:"layertree3d-item-title",title:e.title},e.title),n.createElement("span",{className:"layertree3d-item-transparency"},n.createElement("input",{className:"layertree3d-item-transparency-slider",max:"255",min:"0",onChange:function(t){return A.updateColorLayer(e.id,{opacity:parseInt(t.target.value,10)})},step:"1",type:"range",value:e.opacity})))}))}),e}return function(e,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(A&&A.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),A&&IA(e,A)}(A,e),t=A,(r=[{key:"render",value:function(){var e=this;return n.createElement("div",null,n.createElement(_.A,{icon:"layers",id:"LayerTree3D",title:V.A.tr("appmenu.items.LayerTree3D"),width:"20em"},function(){return{body:e.renderBody()}}))}}])&&yA(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r}(n.Component);MA(BA,"propTypes",{sceneContext:d().object});var DA=t(17977),zA=t.n(DA),EA=t(34682),xA=t(19124),kA=t(80634),OA={};function TA(e){return TA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TA(e)}function ZA(e,A){for(var t=0;t<A.length;t++){var n=A[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RA(n.key),n)}}function LA(e,A,t){return A=QA(A),function(e,A){if(A&&("object"==TA(A)||"function"==typeof A))return A;if(void 0!==A)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,SA()?Reflect.construct(A,t||[],QA(e).constructor):A.apply(e,t))}function SA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(SA=function(){return!!e})()}function QA(e){return QA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},QA(e)}function WA(e,A){return WA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,A){return e.__proto__=A,e},WA(e,A)}function NA(e,A,t){return(A=RA(A))in e?Object.defineProperty(e,A,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[A]=t,e}function RA(e){var A=function(e){if("object"!=TA(e)||!e)return e;var A=e[Symbol.toPrimitive];if(void 0!==A){var t=A.call(e,"string");if("object"!=TA(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==TA(A)?A:A+""}OA.styleTagTransform=Z(),OA.setAttributes=x(),OA.insert=z().bind(null,"head"),OA.domAPI=B(),OA.insertStyleElement=O(),M()(kA.A,OA),kA.A&&kA.A.locals&&kA.A.locals;var GA=function(e){function A(e){var t;!function(e,A){if(!(e instanceof A))throw new TypeError("Cannot call a class as a function")}(this,A),NA(t=LA(this,A,[e]),"state",{systemTime:!1,timestamp:0}),NA(t,"renderBody",function(){var e=new Date(t.state.timestamp),A=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0"),a=String(e.getHours()).padStart(2,"0"),i=String(e.getMinutes()+e.getSeconds()>30?1:0).padStart(2,"0"),c="".concat(A,"-").concat(r,"-").concat(o),s="".concat(a,":").concat(i);return n.createElement("div",{className:"datetime3d-body"},n.createElement("table",null,n.createElement("tbody",null,n.createElement("tr",null,n.createElement("td",null,"System time"),n.createElement("td",null,n.createElement(xA.A,{active:t.state.systemTime,onChange:t.toggleSystemTime}))),n.createElement("tr",null,n.createElement("td",null,"Date"),n.createElement("td",null,n.createElement(EA.A,{disabled:t.state.systemTime,onChange:t.updateDate,type:"date",value:c}))),n.createElement("tr",null,n.createElement("td",null,"Time"),n.createElement("td",null,n.createElement(EA.A,{disabled:t.state.systemTime,onChange:t.updateTime,type:"time",value:s}))))))}),NA(t,"toggleSystemTime",function(e){e?t.setCurrentTimestamp():clearTimeout(t.setTimestampTimeout),t.setState({systemTime:e})}),NA(t,"updateDate",function(e){e&&t.setState(function(A){var t=new Date(A.timestamp),n=e.split("-").map(Number);return t.setFullYear(n[0]),t.setMonth(n[1]-1),t.setDate(n[2]),{timestamp:+t}})}),NA(t,"updateTime",function(e){e&&t.setState(function(A){var t=new Date(A.timestamp),n=e.split(":").map(Number);return t.setHours(n[0]),t.setMinutes(n[1]),{timestamp:+t}})}),NA(t,"setCurrentTimestamp",function(){var e=new Date,A=60-e.getSeconds()-e.getMilliseconds()/1e3;t.setState({timestamp:+e}),t.setTimestampTimeout=setTimeout(t.setCurrentTimestamp,1e3*A)}),NA(t,"updateLightPosition",function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],A=t.props.sceneContext,n=A.getSceneObject("__directionalLight");if(e||n.target.position.distanceTo(A.scene.view.controls.target)>1e4){var r=A.scene.view.controls.target.x,o=A.scene.view.controls.target.y,a=h.A.reproject([r,o],A.mapCrs,"EPSG:4326"),i=zA().getPosition(new Date(t.state.timestamp),a[1],a[0]),c=i.azimuth+Math.PI,s=i.altitude,l=1e7;n.position.x=r+Math.cos(s)*Math.sin(c)*l,n.position.y=o+Math.cos(s)*Math.cos(c)*l,n.position.z=Math.sin(s)*l,n.updateMatrixWorld(),n.target.position.x=r,n.target.position.y=o,n.target.position.z=0,n.target.updateMatrixWorld();var u=Math.max(0,s/(.5*Math.PI)),p=1.15*u/(u+.15);A.map.hillshading.azimuth=c/Math.PI*180,A.map.hillshading.zenith=90-30*p,A.map.hillshading.intensity=1-.4*p,A.map.hillshading.elevationLayersOnly=!0,A.getSceneObject("__ambientLight").intensity=.01+.49*p,A.getSceneObject("__directionalLight").intensity=.1+1.4*p,A.scene.notifyChange(A.map),A.scene.renderer.render(A.scene.scene,A.scene.view.camera)}}),t.setTimestampTimeout=null;var r=new Date;return r.setHours(12),r.setMinutes(0),r.setSeconds(0),t.state.timestamp=+r,t}return function(e,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(A&&A.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),A&&WA(e,A)}(A,e),t=A,(r=[{key:"componentDidMount",value:function(){this.componentDidUpdate({})}},{key:"componentDidUpdate",value:function(e,A){var t,n=this;if(this.props.sceneContext.scene!==(null===(t=e.sceneContext)||void 0===t?void 0:t.scene)){var r=new v.$p8("white",.5);this.props.sceneContext.addSceneObject("__ambientLight",r);var o=new v.ZyN(16777215,1.5);this.props.sceneContext.addSceneObject("__directionalLight",o),this.props.sceneContext.scene.view.controls.addEventListener("change",function(){return n.updateLightPosition()}),this.lightPositionInterval=setInterval(function(){return n.updateLightPosition(!0)},6e4),this.updateLightPosition()}else this.state.timestamp!==A.timestamp&&this.updateLightPosition(!0)}},{key:"componentWillUnmount",value:function(){clearInterval(this.lightPositionInterval)}},{key:"render",value:function(){var e=this;return n.createElement("div",null,n.createElement(_.A,{icon:"clock",id:"DateTime3D",title:V.A.tr("appmenu.items.DateTime3D"),width:"20em"},function(){return{body:e.renderBody()}}))}}])&&ZA(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r}(n.Component);NA(GA,"propTypes",{sceneContext:d().object});var UA=t(19853),YA=t(12774),FA={};function KA(e){return KA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KA(e)}function HA(e,A){for(var t=0;t<A.length;t++){var n=A[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$A(n.key),n)}}function XA(e,A,t){return A=VA(A),function(e,A){if(A&&("object"==KA(A)||"function"==typeof A))return A;if(void 0!==A)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,JA()?Reflect.construct(A,t||[],VA(e).constructor):A.apply(e,t))}function JA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(JA=function(){return!!e})()}function VA(e){return VA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},VA(e)}function qA(e,A){return qA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,A){return e.__proto__=A,e},qA(e,A)}function _A(e,A,t){return(A=$A(A))in e?Object.defineProperty(e,A,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[A]=t,e}function $A(e){var A=function(e){if("object"!=KA(e)||!e)return e;var A=e[Symbol.toPrimitive];if(void 0!==A){var t=A.call(e,"string");if("object"!=KA(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==KA(A)?A:A+""}FA.styleTagTransform=Z(),FA.setAttributes=x(),FA.insert=z().bind(null,"head"),FA.domAPI=B(),FA.insertStyleElement=O(),M()(YA.A,FA),YA.A&&YA.A.locals&&YA.A.locals;var et=function(e){function A(e){var t;return function(e,A){if(!(e instanceof A))throw new TypeError("Cannot call a class as a function")}(this,A),_A(t=XA(this,A,[e]),"state",{firstPerson:!1}),_A(t,"keyHandler",function(e){e.repeat||("ArrowUp"===e.key?e.ctrlKey?t.tilt(e,0,1,!0):t.pan(e,0,1,!0):"ArrowDown"===e.key?e.ctrlKey?t.tilt(e,0,-1,!0):t.pan(e,0,-1,!0):"ArrowLeft"===e.key?e.ctrlKey?t.tilt(e,1,0,!0):t.pan(e,1,0,!0):"ArrowRight"===e.key&&(e.ctrlKey?t.tilt(e,-1,0,!0):t.pan(e,-1,0,!0)))}),_A(t,"home",function(){t.leaveFirstPerson();var e=t.props.sceneContext.map.extent,A=[e.west,e.south,e.east,e.north];t.setViewToExtent(A)}),_A(t,"pan",function(e,A,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=t.state.firstPerson?2e5:100+(t.props.sceneContext.scene.view.camera.position.z-t.props.sceneContext.scene.view.controls.target.z)/250,a=new v.I9Y(A,n).multiplyScalar(o);t.animationInterrupted=!1;var i=new Date/1e3,c=function(){if(!t.animationInterrupted){var e=new Date/1e3,A=e-i;i=e,t.props.sceneContext.scene.view.controls._pan(a.x*A,a.y*A),t.props.sceneContext.scene.notifyChange(),requestAnimationFrame(c)}};requestAnimationFrame(c);var s=r?"keyup":"mouseup";(r?e.target:e.view).addEventListener(s,function(){t.animationInterrupted=!0},{once:!0})}),_A(t,"tilt",function(e,A,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t.state.firstPerson&&(n*=-1,A*=-1),t.animationInterrupted=!1;var o=new Date/1e3,a=function(){if(!t.animationInterrupted){var e=new Date/1e3,r=e-o;o=e,n&&t.props.sceneContext.scene.view.controls._rotateUp(n*r),A&&t.props.sceneContext.scene.view.controls._rotateLeft(A*r),t.props.sceneContext.scene.notifyChange(),requestAnimationFrame(a)}};requestAnimationFrame(a);var i=r?"keyup":"mouseup";(r?e.target:e.view).addEventListener(i,function(){t.animationInterrupted=!0},{once:!0})}),_A(t,"resetTilt",function(){if(t.state.firstPerson){var e=t.props.sceneContext.scene.view.controls.target,A=t.props.sceneContext.scene.view.camera.position;t.props.sceneContext.scene.view.controls.target.set(e.x,e.y,A.z)}else{var n=t.props.sceneContext.scene.view.controls.target,r=t.props.sceneContext.scene.view.camera.position.clone(),o=t.props.sceneContext.scene.view.controls.getAzimuthalAngle(),a=new v.Pq0(n.x,n.y,n.distanceTo(r)),i=new Date/1e3;t.animationInterrupted=!1;var c=function(){if(t.props.sceneContext.scene&&!t.animationInterrupted){var e=new Date/1e3-i,A=e/2,s=.5*(1-Math.cos(A*Math.PI)),l=(new v.Pq0).lerpVectors(r,a,s);l.x-=n.x,l.y-=n.y,l.applyAxisAngle(new v.Pq0(0,0,1),-o*s),l.x+=n.x,l.y+=n.y,t.props.sceneContext.scene.view.camera.position.copy(l),t.props.sceneContext.scene.notifyChange(),e<2?requestAnimationFrame(c):(t.props.sceneContext.scene.view.camera.position.copy(a),t.props.sceneContext.scene.notifyChange())}};requestAnimationFrame(c)}}),_A(t,"setViewToExtent",function(e){var A,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t.state.firstPerson&&t.leaveFirstPerson();var r={x:.5*(e[0]+e[2]),y:.5*(e[1]+e[3])},o=t.props.sceneContext.map.getElevation({coordinates:new X.Ay(t.props.sceneContext.mapCrs,r.x,r.y)});o.samples.sort(function(e,A){return e.resolution>A.resolution}),r.z=(null===(A=o.samples[0])||void 0===A?void 0:A.elevation)||0;for(var a=35/180*Math.PI,i=(e[2]-e[0])/(2*Math.tan(a/2)),c=t.props.sceneContext.scene.view.camera.position.clone(),s=t.props.sceneContext.scene.view.controls.target.clone(),l=t.props.sceneContext.scene.view.controls.getAzimuthalAngle(),u=new v.Pq0(r.x,r.y,r.z+i),p=new v.Pq0(r.x,r.y,r.z),m=-l+n;m>Math.PI;)m-=2*Math.PI;for(;m<-Math.PI;)m+=2*Math.PI;var d=new Date/1e3;t.animationInterrupted=!1;var g=function(){if(t.props.sceneContext.scene&&!t.animationInterrupted){var e=new Date/1e3-d,A=e/2,r=.5*(1-Math.cos(A*Math.PI)),o=(new v.Pq0).lerpVectors(c,u,r),a=(new v.Pq0).lerpVectors(s,p,r);o.x-=a.x,o.y-=a.y,o.applyAxisAngle(new v.Pq0(0,0,1),m*r),o.x+=a.x,o.y+=a.y,t.props.sceneContext.scene.view.camera.position.copy(o),t.props.sceneContext.scene.view.controls.target.copy(a),t.props.sceneContext.scene.notifyChange(),e<2?requestAnimationFrame(g):(t.props.sceneContext.scene.view.camera.position.copy(u),t.props.sceneContext.scene.view.controls.target.copy(p),t.props.sceneContext.scene.view.controls._rotateLeft(-n),t.props.sceneContext.scene.notifyChange())}};requestAnimationFrame(g)}),_A(t,"updateControlsTarget",function(){var e,A,n=t.props.sceneContext.scene.view.controls.target;if(!(t.prevTarget&&t.prevTarget.distanceToSquared(n)<50)){t.prevTarget=n.clone();var r=n.x,o=n.y,a=new v.tBo;a.set(new v.Pq0(r,o,n.z+1e5),new v.Pq0(0,0,-1));var i=a.intersectObjects([t.props.sceneContext.map.object3d]).filter(function(e){return 0===e.object.children.length})[0],c=null!==(e=null==i||null===(A=i.point)||void 0===A?void 0:A.z)&&void 0!==e?e:0;if(!(c<=1)){if(t.state.firstPerson){var s=c+t.personHeight-t.props.sceneContext.scene.view.camera.position.z;return t.props.sceneContext.scene.view.camera.position.z+=s,void(t.props.sceneContext.scene.view.controls.target.z+=s)}var l=t.props.sceneContext.scene.view.camera.position.z,u=c>0?c*Math.max(0,1-(l-c)/c):0;t.props.sceneContext.scene.view.controls.target.z=u}}}),_A(t,"stopAnimations",function(){t.animationInterrupted=!0}),_A(t,"switchToFirstPersonView",function(e){t.state.firstPerson||t.setupFirstPerson(e)}),_A(t,"toggleFirstPersonControls",function(){t.state.firstPerson?t.leaveFirstPerson():t.props.sceneContext.scene.domElement.addEventListener("click",t.setupFirstPerson,{once:!0})}),_A(t,"setupFirstPerson",function(e){var A=e.target.getBoundingClientRect(),n=(e.clientX-A.left)/A.width*2-1,r=-(e.clientY-A.top)/A.height*2+1,o=t.props.sceneContext.getSceneIntersection(n,r,!1);if(o){var a=o.point;t.props.sceneContext.getTerrainHeight([a.x,a.y]).then(function(e){var A=t.props.sceneContext.scene.view.camera.position.clone(),n=t.props.sceneContext.scene.view.controls.target.clone(),r=new v.Pq0(a.x,a.y,e+t.personHeight),o=new v.Pq0(a.x,a.y+300,e+t.personHeight),i=new Date/1e3;t.animationInterrupted=!1;var c=function(){if(t.props.sceneContext.scene&&!t.animationInterrupted){var s=new Date/1e3-i,l=s/2,u=.5*(1-Math.cos(l*Math.PI)),p=(new v.Pq0).lerpVectors(A,r,u),m=(new v.Pq0).lerpVectors(n,o,u);t.props.sceneContext.scene.view.camera.position.copy(p),t.props.sceneContext.scene.view.controls.target.copy(m),t.props.sceneContext.scene.notifyChange(),s<2?requestAnimationFrame(c):(t.props.sceneContext.scene.view.camera.position.copy(r),t.props.sceneContext.scene.view.controls.target.set(a.x,a.y+.1,e+t.personHeight),t.props.sceneContext.scene.notifyChange(),t.controls.maxPolarAngle=.8*Math.PI,t.controls.panSpeed=600,t.controls.enableZoom=!1,t.setState({firstPerson:!0}))}};requestAnimationFrame(c)})}}),_A(t,"leaveFirstPerson",function(){t.controls.maxPolarAngle=.5*Math.PI,t.controls.panSpeed=1,t.controls.enableZoom=!0,t.setState({firstPerson:!1},function(){var e=t.props.sceneContext.scene.view.camera.position,A=[e.x-1e3,e.y-1e3,e.x+1e3,e.y+1e3];t.setViewToExtent(A)})}),t.animationInterrupted=!1,t.personHeight=2,t.prevTarget=null,t}return function(e,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(A&&A.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),A&&qA(e,A)}(A,e),t=A,(r=[{key:"componentDidMount",value:function(){var e=this.props.sceneContext.scene.domElement;e.tabIndex=0,this.controls=new UA.r(this.props.sceneContext.scene.view.camera,e),this.controls.zoomToCursor=!0,this.controls.enableDamping=!0,this.controls.dampingFactor=.2,this.controls.maxPolarAngle=.5*Math.PI,e.addEventListener("keydown",this.keyHandler),this.props.sceneContext.scene.view.setControls(this.controls);var A=this.props.sceneContext.scene.view.camera.position.clone();A.z=0,this.controls.target=A,this.controls.addEventListener("change",this.updateControlsTarget),e.addEventListener("dblclick",this.switchToFirstPersonView)}},{key:"componentWillUnmount",value:function(){this.animationInterrupted=!0,this.props.sceneContext.scene.domElement.addEventListener("keydown",this.keyHandler),this.controls.removeEventListener("change",this.updateControlsTarget),this.props.sceneContext.scene.view.setControls(null),this.controls.dispose(),this.controls=null,this.props.sceneContext.scene.domElement.removeEventListener("dblclick",this.switchToFirstPersonView)}},{key:"render",value:function(){var e=this,A=vA()({"map3d-firstperson-button":!0,"map3d-firstperson-button-active":this.state.firstPerson});return[n.createElement("div",{className:"map3d-nav-pan",key:"MapPanWidget"},n.createElement("span",null),n.createElement(q.A,{icon:"chevron-up",onMouseDown:function(A){return e.pan(A,0,1)}}),n.createElement("span",null),n.createElement(q.A,{icon:"chevron-left",onMouseDown:function(A){return e.pan(A,1,0)}}),n.createElement(q.A,{icon:"home",onClick:function(){return e.home()}}),n.createElement(q.A,{icon:"chevron-right",onMouseDown:function(A){return e.pan(A,-1,0)}}),n.createElement("span",null),n.createElement(q.A,{icon:"chevron-down",onMouseDown:function(A){return e.pan(A,0,-1)}}),n.createElement("span",null)),n.createElement("div",{className:"map3d-nav-rotate",key:"MapRotateWidget"},n.createElement("span",null),n.createElement(q.A,{icon:"tilt-up",onMouseDown:function(A){return e.tilt(A,0,1)}}),n.createElement("span",null),n.createElement(q.A,{icon:"tilt-left",onMouseDown:function(A){return e.tilt(A,1,0)}}),n.createElement(q.A,{icon:"point",onClick:function(){return e.resetTilt()}}),n.createElement(q.A,{icon:"tilt-right",onMouseDown:function(A){return e.tilt(A,-1,0)}}),n.createElement("span",null),n.createElement(q.A,{icon:"tilt-down",onMouseDown:function(A){return e.tilt(A,0,-1)}}),n.createElement("span",null)),n.createElement("div",{className:A,key:"FirstPersonButton",onClick:this.toggleFirstPersonControls},n.createElement(q.A,{icon:"person"}))]}}])&&HA(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r}(n.Component);_A(et,"propTypes",{sceneContext:d().object});var At=t(74285),tt=t(2519),nt=t.n(tt),rt=t(85482),ot=t.n(rt),at=t(72529),it=t.n(at),ct=t(60763),st=t.n(ct),lt=t(16254),ut=t(18738),pt=(t(16654),t(84482)),mt={};function dt(e){return dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dt(e)}function vt(){var e,A,t="function"==typeof Symbol?Symbol:{},n=t.iterator||"@@iterator",r=t.toStringTag||"@@toStringTag";function o(t,n,r,o){var c=n&&n.prototype instanceof i?n:i,s=Object.create(c.prototype);return gt(s,"_invoke",function(t,n,r){var o,i,c,s=0,l=r||[],u=!1,p={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(A,t){return o=A,i=0,c=e,p.n=t,a}};function m(t,n){for(i=t,c=n,A=0;!u&&s&&!r&&A<l.length;A++){var r,o=l[A],m=p.p,d=o[2];t>3?(r=d===n)&&(c=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=e):o[0]<=m&&((r=t<2&&m<o[1])?(i=0,p.v=n,p.n=o[1]):m<d&&(r=t<3||o[0]>n||n>d)&&(o[4]=t,o[5]=n,p.n=d,i=0))}if(r||t>1)return a;throw u=!0,n}return function(r,l,d){if(s>1)throw TypeError("Generator is already running");for(u&&1===l&&m(l,d),i=l,c=d;(A=i<2?e:c)||!u;){o||(i?i<3?(i>1&&(p.n=-1),m(i,c)):p.n=c:p.v=c);try{if(s=2,o){if(i||(r="next"),A=o[r]){if(!(A=A.call(o,c)))throw TypeError("iterator result is not an object");if(!A.done)return A;c=A.value,i<2&&(i=0)}else 1===i&&(A=o.return)&&A.call(o),i<2&&(c=TypeError("The iterator does not provide a '"+r+"' method"),i=1);o=e}else if((A=(u=p.n<0)?c:t.call(n,p))!==a)break}catch(A){o=e,i=1,c=A}finally{s=1}}return{value:A,done:u}}}(t,r,o),!0),s}var a={};function i(){}function c(){}function s(){}A=Object.getPrototypeOf;var l=[][n]?A(A([][n]())):(gt(A={},n,function(){return this}),A),u=s.prototype=i.prototype=Object.create(l);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,gt(e,r,"GeneratorFunction")),e.prototype=Object.create(u),e}return c.prototype=s,gt(u,"constructor",s),gt(s,"constructor",c),c.displayName="GeneratorFunction",gt(s,r,"GeneratorFunction"),gt(u),gt(u,r,"Generator"),gt(u,n,function(){return this}),gt(u,"toString",function(){return"[object Generator]"}),(vt=function(){return{w:o,m:p}})()}function gt(e,A,t,n){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}gt=function(e,A,t,n){function o(A,t){gt(e,A,function(e){return this._invoke(A,t,e)})}A?r?r(e,A,{value:t,enumerable:!n,configurable:!n,writable:!n}):e[A]=t:(o("next",0),o("throw",1),o("return",2))},gt(e,A,t,n)}function ft(e,A,t,n,r,o,a){try{var i=e[o](a),c=i.value}catch(e){return void t(e)}i.done?A(c):Promise.resolve(c).then(n,r)}function wt(){return wt=Object.assign?Object.assign.bind():function(e){for(var A=1;A<arguments.length;A++){var t=arguments[A];for(var n in t)({}).hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},wt.apply(null,arguments)}function bt(e,A){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);A&&(n=n.filter(function(A){return Object.getOwnPropertyDescriptor(e,A).enumerable})),t.push.apply(t,n)}return t}function yt(e){for(var A=1;A<arguments.length;A++){var t=null!=arguments[A]?arguments[A]:{};A%2?bt(Object(t),!0).forEach(function(A){Bt(e,A,t[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):bt(Object(t)).forEach(function(A){Object.defineProperty(e,A,Object.getOwnPropertyDescriptor(t,A))})}return e}function Ct(e,A){(null==A||A>e.length)&&(A=e.length);for(var t=0,n=Array(A);t<A;t++)n[t]=e[t];return n}function ht(e,A){for(var t=0;t<A.length;t++){var n=A[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Dt(n.key),n)}}function Pt(e,A,t){return A=Mt(A),function(e,A){if(A&&("object"==dt(A)||"function"==typeof A))return A;if(void 0!==A)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,It()?Reflect.construct(A,t||[],Mt(e).constructor):A.apply(e,t))}function It(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(It=function(){return!!e})()}function Mt(e){return Mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Mt(e)}function jt(e,A){return jt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,A){return e.__proto__=A,e},jt(e,A)}function Bt(e,A,t){return(A=Dt(A))in e?Object.defineProperty(e,A,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[A]=t,e}function Dt(e){var A=function(e){if("object"!=dt(e)||!e)return e;var A=e[Symbol.toPrimitive];if(void 0!==A){var t=A.call(e,"string");if("object"!=dt(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==dt(A)?A:A+""}mt.styleTagTransform=Z(),mt.setAttributes=x(),mt.insert=z().bind(null,"head"),mt.domAPI=B(),mt.insertStyleElement=O(),M()(pt.A,mt),pt.A&&pt.A.locals&&pt.A.locals;var zt=function(e){function A(){var e;!function(e,A){if(!(e instanceof A))throw new TypeError("Cannot call a class as a function")}(this,A);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return Bt(e=Pt(this,A,[].concat(r)),"state",{minimized:!1,selectedFormat:"image/jpeg",layout:"",x:0,y:0,width:0,height:0,exporting:!1}),Bt(e,"onShow",function(){var A;if(!it()(null===(A=e.props.theme)||void 0===A?void 0:A.print)){var t=e.props.theme.print.filter(function(e){return e.map}).sort(function(e,A){return e.name.localeCompare(A.name,void 0,{numeric:!0})}),n=t.find(function(e){return e.default})||t[0];e.setState({layout:n})}}),Bt(e,"formatChanged",function(A){e.setState({selectedFormat:A.target.value})}),Bt(e,"layoutChanged",function(A){var t=e.props.theme.print.find(function(e){return e.name===A.target.value});e.setState({layout:t})}),Bt(e,"renderBody",function(){var A,t,r,o=e.props.theme.print.filter(function(e){return e.map}).sort(function(e,A){return e.name.localeCompare(A.name,void 0,{numeric:!0})}),a=e.state.exporting||0===e.state.width||"application/pdf"===e.state.selectedFormat&&!e.state.layout,i=(null===(A=e.state.layout)||void 0===A||null===(A=A.map)||void 0===A?void 0:A.name)||"";return n.createElement("div",{className:"mapexport-body"},n.createElement("form",{onSubmit:e.export},n.createElement("table",{className:"options-table"},n.createElement("tbody",null,n.createElement("tr",null,n.createElement("td",null,V.A.tr("mapexport.format")),n.createElement("td",null,n.createElement("select",{name:"FORMAT",onChange:e.formatChanged,value:e.state.selectedFormat},Object.entries({"image/jpeg":"JPEG","image/png":"PNG","image/tiff":"TIFF","application/pdf":"PDF"}).map(function(e){var A=function(e,A){return function(e){if(Array.isArray(e))return e}(e)||function(e,A){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,r,o,a,i=[],c=!0,s=!1;try{if(o=(t=t.call(e)).next,0===A){if(Object(t)!==t)return;c=!1}else for(;!(c=(n=o.call(t)).done)&&(i.push(n.value),i.length!==A);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(s)throw r}}return i}}(e,A)||function(e,A){if(e){if("string"==typeof e)return Ct(e,A);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Ct(e,A):void 0}}(e,A)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),t=A[0],r=A[1];return n.createElement("option",{key:t,value:t},r)})))),"application/pdf"===e.state.selectedFormat?n.createElement("tr",null,n.createElement("td",null,V.A.tr("print.layout")),n.createElement("td",null,n.createElement("select",{onChange:e.layoutChanged,value:e.state.layout.name},o.map(function(e){return n.createElement("option",{key:e.name,value:e.name},e.name.split("/").pop())})))):null,"application/pdf"===e.state.selectedFormat?((null===(t=e.state.layout)||void 0===t?void 0:t.labels)||[]).map(function(A){var t;if(A.startsWith("__"))return null;var n=yt({rows:1,name:A.toUpperCase()},null===(t=e.props.theme.printLabelConfig)||void 0===t?void 0:t[A]);return e.renderPrintLabelField(A,n)}):null)),"application/pdf"===e.state.selectedFormat?n.createElement("div",null,n.createElement("input",{name:"TEMPLATE",type:"hidden",value:(null===(r=e.state.layout)||void 0===r?void 0:r.name)||""}),n.createElement("input",{name:"csrf_token",type:"hidden",value:lt.A.getCsrfToken()}),n.createElement("input",{name:i+":extent",readOnly:!0,type:"hidden",value:"0,0,0,0"}),n.createElement("input",{name:"SERVICE",readOnly:!0,type:"hidden",value:"WMS"}),n.createElement("input",{name:"VERSION",readOnly:!0,type:"hidden",value:e.props.theme.version}),n.createElement("input",{name:"REQUEST",readOnly:!0,type:"hidden",value:"GetPrint"}),n.createElement("input",{name:"TRANSPARENT",readOnly:!0,type:"hidden",value:"true"}),n.createElement("input",{name:"SRS",readOnly:!0,type:"hidden",value:e.props.theme.mapCrs}),n.createElement("input",{name:"LAYERS",readOnly:!0,type:"hidden",value:""}),n.createElement("input",{name:i+":LAYERS",readOnly:!0,type:"hidden",value:""})):null,n.createElement("div",{className:"button-bar"},n.createElement("button",{className:"button",disabled:a,type:"submit"},e.state.exporting?n.createElement("span",{className:"mapexport-wait"},n.createElement(ut.A,null)," ",V.A.tr("mapexport.wait")):V.A.tr("mapexport.submit")))))}),Bt(e,"renderExportFrame",function(){var A={left:e.state.x+"px",top:e.state.y+"px",width:e.state.width+"px",height:e.state.height+"px"};return n.createElement("div",{className:"mapexport3d-event-container",onPointerDown:e.startSelection},n.createElement("div",{className:"mapexport3d-frame",style:A},n.createElement("span",{className:"mapexport3d-frame-label"},e.state.width+" x "+e.state.height)))}),Bt(e,"startSelection",function(A){if(A.shiftKey){var t=A.currentTarget,n=A.view;return n.addEventListener("pointerup",function(){t.style.pointerEvents="",n.document.body.style.userSelect=""},{once:!0}),t.style.pointerEvents="none",n.document.body.style.userSelect="none",void e.props.sceneContext.scene.domElement.dispatchEvent(new PointerEvent("pointerdown",A))}if(0===A.button){var r=A.currentTarget.getBoundingClientRect();e.setState({x:Math.round(A.clientX-r.left),y:Math.round(A.clientY-r.top),width:0,height:0});var o="application/pdf"===e.state.selectedFormat&&e.state.layout,a=o?e.state.layout.map.height/e.state.layout.map.width:null,i=function(A){e.setState(function(e){var t=Math.round(Math.max(0,Math.round(A.clientX-r.left)-e.x));return{width:t,height:o?Math.round(t*a):Math.round(Math.max(0,Math.round(A.clientY-r.top)-e.y))}})};A.view.addEventListener("pointermove",i),A.view.addEventListener("pointerup",function(){A.view.removeEventListener("pointermove",i)},{once:!0})}}),Bt(e,"export",function(A){A.preventDefault();var t=A.target;e.setState({exporting:!0});var n=e.state,r=n.x,o=n.y,a=n.width,i=n.height;if(a>0&&i>0){var c=e.props.sceneContext.scene.renderer.domElement.toDataURL("image/png"),s=document.createElement("canvas"),l=s.getContext("2d"),u=new Image;u.src=c,u.onload=function(){if(s.width=a,s.height=i,l.drawImage(u,-r,-o),"application/pdf"===e.state.selectedFormat)s.toBlob(function(A){A.arrayBuffer().then(function(A){return e.exportToPdf(t,A)})},"image/png");else if("image/tiff"===e.state.selectedFormat){var A=l.getImageData(0,0,a,i),n=new Blob([st().encodeImage(A.data,a,i)],{type:"image/tiff"});nt().saveAs(n,"export."+e.state.selectedFormat.replace(/.*\//,"")),e.setState({exporting:!1})}else s.toBlob(function(A){nt().saveAs(A,"export."+e.state.selectedFormat.replace(/.*\//,"")),e.setState({exporting:!1})},e.state.selectedFormat)}}}),Bt(e,"renderPrintLabelField",function(A,t){var r=t.defaultValue||"",o=!1;if(A===e.props.theme.printLabelForSearchResult?(r=e.getSearchMarkerLabel(),o=!0):A===e.props.theme.printLabelForAttribution&&(r=e.getAttributionLabel(),o=!0),o&&e.props.hideAutopopulatedFields)return n.createElement("tr",{key:"label."+A},n.createElement("td",{colSpan:"2"},n.createElement("input",{defaultValue:r,name:t.name,type:"hidden"})));if(t.options)return n.createElement("tr",{key:"label."+A},n.createElement("td",null,lt.A.capitalizeFirst(A)),n.createElement("td",null,n.createElement("select",{defaultValue:r,name:t.name},t.options.map(function(e){return n.createElement("option",{key:e,value:e},e)}))));var a={};return(t.rows||t.cols)&&(a.resize="none"),t.cols&&(a.width="initial"),n.createElement("tr",{key:"label."+A},n.createElement("td",null,lt.A.capitalizeFirst(A)),n.createElement("td",null,n.createElement("textarea",wt({},t,{defaultValue:r,readOnly:o,style:a}))))}),Bt(e,"getSearchMarkerLabel",function(){return""}),Bt(e,"getAttributionLabel",function(){return""}),e}return function(e,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(A&&A.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),A&&jt(e,A)}(A,e),r=A,o=[{key:"render",value:function(){var e=this,A=this.state.minimized?V.A.tr("print.maximize"):V.A.tr("print.minimize"),t=this.state.minimized?"chevron-down":"chevron-up",r=n.createElement(q.A,{className:"mapexport-minimize-maximize",icon:t,onClick:function(){return e.setState(function(e){return{minimized:!e.minimized}})},title:A});return n.createElement(_.A,{extraClasses:"MapExport",extraTitlebarContent:r,icon:"rasterexport",id:"MapExport3D",onShow:this.onShow,title:V.A.tr("appmenu.items.MapExport3D"),width:"20em"},function(){return{body:e.renderBody(),extra:e.renderExportFrame()}})}},{key:"exportToPdf",value:(a=vt().m(function e(A,n){var r,o,a,i,c,s,l,u,p,m,d,v,g,f,w;return vt().w(function(e){for(;;)switch(e.n){case 0:return r=yt(yt({},ot()(new FormData(A))),Object.fromEntries((this.props.theme.extraPrintParameters||"").split("&").filter(Boolean).map(function(e){return e.split("=")}))),o=Object.entries(r).map(function(e){return e.map(function(e){return encodeURIComponent(e).replace(/%20/g,"+")}).join("=")}).join("&"),a={headers:{"Content-Type":"application/x-www-form-urlencoded"},responseType:"arraybuffer"},e.n=1,At.A.post(this.props.theme.printUrl,o,a);case 1:if(!(i=e.v)){e.n=6;break}return e.n=2,t.e(654).then(t.bind(t,69273));case 2:return c=e.v,s=c.PDFDocument,e.n=3,s.load(i.data);case 3:return l=e.v,u=l.getPages()[0],e.n=4,l.embedPng(n);case 4:return p=e.v,m=2.8346*this.state.layout.map.x,d=2.8346*this.state.layout.map.y,v=2.8346*this.state.layout.map.width,g=2.8346*this.state.layout.map.height,u.drawImage(p,{x:m,y:d,width:v,height:g}),e.n=5,l.save();case 5:f=e.v,w=new Blob([f],{type:"application/pdf"}),nt().saveAs(w,this.state.layout.name+".pdf"),this.setState({exporting:!1}),e.n=7;break;case 6:alert("Print failed"),this.setState({exporting:!1});case 7:return e.a(2)}},e,this)}),i=function(){var e=this,A=arguments;return new Promise(function(t,n){var r=a.apply(e,A);function o(e){ft(r,t,n,o,i,"next",e)}function i(e){ft(r,t,n,o,i,"throw",e)}o(void 0)})},function(e,A){return i.apply(this,arguments)})}],o&&ht(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,a,i}(n.Component);Bt(zt,"propTypes",{hideAutopopulatedFields:d().bool,sceneContext:d().object,setCurrentTask:d().func,theme:d().object});const Et=(0,r.Ng)(function(e){return{}},{setCurrentTask:b.setCurrentTask})(zt);var xt=t(75101),kt=t(49024),Ot=t(80061),Tt=t(45884),Zt=t(44058),Lt=t.n(Zt),St=t(52822),Qt=t(95532),Wt=t(4036),Nt=t(352);function Rt(e){return Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rt(e)}function Gt(e,A,t){if(Jt())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,A);var r=new(e.bind.apply(e,n));return t&&_t(r,t.prototype),r}function Ut(e){return function(e){if(Array.isArray(e))return Yt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,A){if(e){if("string"==typeof e)return Yt(e,A);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Yt(e,A):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yt(e,A){(null==A||A>e.length)&&(A=e.length);for(var t=0,n=Array(A);t<A;t++)n[t]=e[t];return n}function Ft(e,A){if(!(e instanceof A))throw new TypeError("Cannot call a class as a function")}function Kt(e,A){for(var t=0;t<A.length;t++){var n=A[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,en(n.key),n)}}function Ht(e,A,t){return A&&Kt(e.prototype,A),t&&Kt(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xt(e,A,t){return A=Vt(A),function(e,A){if(A&&("object"==Rt(A)||"function"==typeof A))return A;if(void 0!==A)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Jt()?Reflect.construct(A,t||[],Vt(e).constructor):A.apply(e,t))}function Jt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Jt=function(){return!!e})()}function Vt(e){return Vt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Vt(e)}function qt(e,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(A&&A.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),A&&_t(e,A)}function _t(e,A){return _t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,A){return e.__proto__=A,e},_t(e,A)}function $t(e,A,t){return(A=en(A))in e?Object.defineProperty(e,A,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[A]=t,e}function en(e){var A=function(e){if("object"!=Rt(e)||!e)return e;var A=e[Symbol.toPrimitive];if(void 0!==A){var t=A.call(e,"string");if("object"!=Rt(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Rt(A)?A:A+""}t(51838),Nt.t1.register(Nt.PP,Nt.kc,Nt.FN,Nt.No,Nt.hE,Nt.m_,Nt.dN);var An=function(e){function A(e){var t;return Ft(this,A),$t(t=Xt(this,A,[e]),"state",{initialized:!1,imageUrl:""}),$t(t,"closePrintWindow",function(){t.externalWindow.close()}),$t(t,"setWindowContent",function(){t.externalWindow.addEventListener("beforeunload",t.props.onClose,!1);var e=t.externalWindow.document.getElementById("heightprofilecontainer");if(e){var A=t.externalWindow.document.createElement("div");A.id="print",A.style.marginBottom="1em",A.innerHTML='<style type="text/css">@media print{ #print { display: none; }}</style><button onClick="(function(){window.print();})()">'+V.A.tr("heightprofile.print")+"</button>",e.appendChild(A),t.imageEl=t.externalWindow.document.createElement("div"),t.imageEl.innerHTML=V.A.tr("heightprofile.loadingimage"),e.appendChild(t.imageEl),t.portalEl=t.externalWindow.document.createElement("div"),t.portalEl.id="profile",e.appendChild(t.portalEl),t.setState({initialized:!0}),t.externalWindow.document.body.style.overflowX="hidden"}else t.externalWindow.document.body.innerHTML="Broken template. An element with id=heightprofilecontainer must exist."}),$t(t,"scheduleRefreshImage",function(){clearTimeout(t.refreshTimeout),t.refreshTimeout=setTimeout(t.refreshImage,500)}),$t(t,"refreshImage",function(){var e=t.props.sceneContext.scene.renderer.domElement.toDataURL("image/png"),A=t.props.sceneContext.scene.renderer.domElement.offsetWidth;t.imageEl.innerHTML='<img src="'.concat(e,'" style="width: 100%; max-width: ').concat(A,'px" />')}),$t(t,"windowResized",function(){t.chart&&t.chart.resize()}),t.externalWindow=null,t.chart=null,t.portalEl=null,t.imageEl=null,t}return qt(A,e),Ht(A,[{key:"componentDidMount",value:function(){var e=lt.A.resolveAssetsPath(this.props.templatePath);this.externalWindow=window.open(e,V.A.tr("heightprofile.title"),"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=yes, resizable=yes"),this.externalWindow.addEventListener("load",this.setWindowContent,!1),this.externalWindow.addEventListener("resize",this.windowResized,!1),window.addEventListener("beforeunload",this.closePrintWindow),this.props.sceneContext.scene.view.controls.addEventListener("change",this.scheduleRefreshImage)}},{key:"componentDidUpdate",value:function(e,A){this.state.initialized&&!A.initialized&&this.refreshImage()}},{key:"componentWillUnmount",value:function(){this.closePrintWindow(),window.removeEventListener("beforeunload",this.closePrintWindow),this.props.sceneContext.scene.view.controls.removeEventListener("change",this.scheduleRefreshImage)}},{key:"render",value:function(){var e=this;return this.state.initialized?ke.createPortal(this.props.children(function(A){e.chart=A},!1),this.portalEl):null}}])}(n.PureComponent);$t(An,"propTypes",{children:d().func,onClose:d().func,sceneContext:d().object,templatePath:d().string});var tn=function(e){function A(e){var t;return Ft(this,A),$t(t=Xt(this,A,[e]),"state",{printdialog:!1,visible:!0}),$t(t,"onClose",function(){t.setState({visible:!1,printdialog:!1}),t.marker.visible=!1}),$t(t,"renderHeightProfile",function(e,A){var r=V.A.tr("heightprofile.distance"),o=V.A.tr("heightprofile.height"),a=V.A.tr("heightprofile.asl"),i={labels:t.props.data.map(function(e){return e[3]}),datasets:[{data:t.props.data.map(function(e){return e[2]}),fill:!0,backgroundColor:"rgba(255,0,0,0.5)",borderColor:"rgb(255,0,0)",borderWidth:2,pointRadius:0,order:1}]},c=t.props.data[t.props.data.length-1][3],s=Math.max.apply(Math,Ut(t.props.data.map(function(e){return e[2]}))),l=Math.pow(10,Math.ceil(Math.log10(c/10))),u=Math.round(c/l)*l/10,p=t.props.heightProfilePrecision,m={responsive:!0,maintainAspectRatio:!1,animation:{duration:0},plugins:{legend:{display:!1},tooltip:{enabled:A,intersect:!1,displayColors:!1,bodyFont:{weight:"bold"},callbacks:{title:function(e){return r+": "+St.A.formatMeasurement(e[0].parsed.x,!1,"metric")},label:function(e){return o+": "+St.A.formatMeasurement(e.parsed.y,!1,"m")+" "+a}}}},scales:{x:{type:"linear",ticks:{stepSize:u,font:{size:10},callback:function(e){return e}},title:{display:!0,text:r+" [m]",padding:0},max:Math.ceil(c)},y:{ticks:{font:{size:10},callback:function(e){return e.toFixed(p)}},title:{display:!0,text:o+" [m "+a+"]"},max:Math.ceil(s)}},onHover:A?function(e,A,n){var r=n.chartArea,o=Math.min(Math.max(e.x-r.left),r.width);t.updateMarker(o/r.width*c)}:void 0};return n.createElement("div",{className:"height-profile-chart-container",onMouseLeave:t.hideMarker,role:"body",style:{position:"relative"}},n.createElement(Wt.N1,{data:i,options:m,ref:e}))}),$t(t,"resizeChart",function(){t.chart&&t.chart.resize()}),$t(t,"updateMarker",function(e){var A=t.props.data,n=A.findIndex(function(A){return A[3]>=e});if(0===n)t.marker.setPoints([Gt(v.Pq0,Ut(A[0]))]);else{var r=(e-A[n-1][3])/(A[n][3]-A[n-1][3]),o=new v.Pq0(A[n-1][0]+r*(A[n][0]-A[n][0]),A[n-1][1]+r*(A[n][1]-A[n][1]),A[n-1][2]+r*(A[n][2]-A[n][2]));t.marker.setPoints([o])}t.marker.visible=!0}),$t(t,"hideMarker",function(){t.marker.visible=!1}),$t(t,"exportProfile",function(){var e="";e+="index\tdistance\televation\n",t.props.data.forEach(function(A,n){var r=A[3],o=A[2],a=t.props.heightProfilePrecision,i=Math.round(r*Math.pow(10,a))/Math.pow(10,a),c=Math.round(o*Math.pow(10,a))/Math.pow(10,a);e+=String(n).replace('"','""')+"\t"+String(i)+"\t"+String(c)+"\n"}),nt().saveAs(new Blob([e],{type:"text/plain;charset=utf-8"}),"heightprofile.csv")}),t.chart=null,t.profilePrintWindow=null,t}return qt(A,e),Ht(A,[{key:"componentDidMount",value:function(){this.marker=new we.Ay({showVertexLabels:!0,showLine:!1,showVertices:!0,vertexLabelFormatter:function(e){var A=e.position;return St.A.formatMeasurement(A.z,!1,"m")}}),this.marker.visible=!1,this.props.sceneContext.scene.add(this.marker)}},{key:"componentWillUnmount",value:function(){this.props.sceneContext.scene.remove(this.marker)}},{key:"componentDidUpdate",value:function(e){this.props.data!==e.data&&this.setState({visible:!0})}},{key:"render",value:function(){var e=this;if(!this.state.visible)return null;var A=[{icon:"export",callback:this.exportProfile,title:V.A.tr("heightprofile.export")},{icon:"print",active:this.state.printdialog,callback:function(){return e.setState(function(e){return{printdialog:!e.printdialog}})},title:V.A.tr("heightprofile.print")}];return[n.createElement(Oe.A,{dockable:"bottom",extraControls:A,icon:"line",initialHeight:this.props.height,initialWidth:600,initiallyDocked:!0,key:"ProfileDialog",onClose:this.onClose,onExternalWindowResized:this.resizeChart,splitScreenWhenDocked:!0,title:V.A.tr("heightprofile.title"),usePortal:!1},this.renderHeightProfile(function(A){e.chart=A},!0)),this.state.printdialog?n.createElement(An,{key:"ProfilePrintDialog",onClose:function(){return e.setState({printdialog:!1})},sceneContext:this.props.sceneContext,templatePath:this.props.templatePath},this.renderHeightProfile):null]}}])}(n.Component);function nn(e){return nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nn(e)}function rn(e,A){for(var t=0;t<A.length;t++){var n=A[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,un(n.key),n)}}function on(e,A,t){return A=cn(A),function(e,A){if(A&&("object"==nn(A)||"function"==typeof A))return A;if(void 0!==A)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,an()?Reflect.construct(A,t||[],cn(e).constructor):A.apply(e,t))}function an(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(an=function(){return!!e})()}function cn(e){return cn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},cn(e)}function sn(e,A){return sn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,A){return e.__proto__=A,e},sn(e,A)}function ln(e,A,t){return(A=un(A))in e?Object.defineProperty(e,A,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[A]=t,e}function un(e){var A=function(e){if("object"!=nn(e)||!e)return e;var A=e[Symbol.toPrimitive];if(void 0!==A){var t=A.call(e,"string");if("object"!=nn(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==nn(A)?A:A+""}$t(tn,"propTypes",{data:d().array,height:d().number,heightProfilePrecision:d().number,sceneContext:d().object,templatePath:d().string}),$t(tn,"defaultProps",{heightProfilePrecision:0,height:150,templatePath:":/templates/heightprofileprint.html"}),t(75990);var pn=function(e){function A(e){var t;return function(e,A){if(!(e instanceof A))throw new TypeError("Cannot call a class as a function")}(this,A),ln(t=on(this,A,[e]),"state",{mode:null,result:null,lenUnit:"metric",areaUnit:"metric",elevUnit:"absolute"}),ln(t,"onShow",function(e){t.setState({mode:null!=e?e:"Point"}),t.abortController=new AbortController,t.measureTool=new kt.Ay({instance:t.props.sceneContext.scene}),t.drawLayer=new xt.A({source:new Ot.A({data:[],format:new Tt.A.format.GeoJSON,style:t.featureStyleFunction})}),t.props.sceneContext.map.addLayer(t.drawLayer)}),ln(t,"onHide",function(){t.clearResult(),t.setState({mode:null}),t.abortController.abort(),t.abortController=null,t.measureTool.dispose(),t.measureTool=null,t.props.sceneContext.map.removeLayer(t.drawLayer,{dispose:!0})}),ln(t,"renderModeSwitcher",function(){var e=[{key:"Point",label:V.A.tr("measureComponent.pointLabel")},{key:"LineString",label:V.A.tr("measureComponent.lengthLabel")},{key:"Polygon",label:V.A.tr("measureComponent.areaLabel")}];return n.createElement(fe.A,{active:t.state.mode,buttons:e,onClick:function(e){return t.setState({mode:e,result:null})}})}),ln(t,"renderResult",function(){if(!t.state.result)return null;var e="",A=null;if("Point"===t.state.mode){e=h.A.getFormattedCoordinate(t.state.result.pos.slice(0,2),t.props.sceneContext.mapCrs);var r=C.A.getConfigProp("measurementPrecision");e+=", "+(t.state.result.ground>0&&"ground"===t.state.elevUnit?t.state.result.ground:t.state.result.pos[2]).toFixed(r),A=t.state.result.ground>0?n.createElement("select",{onChange:function(e){return t.setState({elevUnit:e.target.value})},value:t.state.elevUnit},n.createElement("option",{value:"ground"},V.A.tr("measureComponent.ground")),n.createElement("option",{value:"absolute"},V.A.tr("measureComponent.absolute"))):n.createElement("span",{className:"measure-unit-label"},V.A.tr("measureComponent.absolute"))}else"LineString"===t.state.mode?(e=St.A.formatMeasurement(t.state.result.length,!1,t.state.lenUnit),A=n.createElement("select",{onChange:function(e){return t.setState({lenUnit:e.target.value})},value:t.state.lenUnit},n.createElement("option",{value:"metric"},V.A.tr("measureComponent.metric")),n.createElement("option",{value:"imperial"},V.A.tr("measureComponent.imperial")),n.createElement("option",{value:"m"},"m"),n.createElement("option",{value:"km"},"km"),n.createElement("option",{value:"ft"},"ft"),n.createElement("option",{value:"mi"},"mi"))):"Polygon"===t.state.mode&&(e=St.A.formatMeasurement(t.state.result,!0,t.state.areaUnit),A=n.createElement("select",{onChange:function(e){return t.setState({areaUnit:e.target.value})},value:t.state.areaUnit},n.createElement("option",{value:"metric"},V.A.tr("measureComponent.metric")),n.createElement("option",{value:"imperial"},V.A.tr("measureComponent.imperial")),n.createElement("option",{value:"sqm"},"m²"),n.createElement("option",{value:"ha"},"ha"),n.createElement("option",{value:"sqkm"},"km²"),n.createElement("option",{value:"sqft"},"ft²"),n.createElement("option",{value:"acre"},"acre"),n.createElement("option",{value:"sqmi"},"mi²")));return n.createElement("div",{className:"controlgroup"},n.createElement("input",{className:"measure-result",readOnly:!0,type:"text",value:e}),A,n.createElement(Qt.A,{text:e}))}),ln(t,"featureStyleFunction",function(){return[new Tt.A.style.Style({fill:new Tt.A.style.Fill({color:[41,120,180,.5]})}),new Tt.A.style.Style({stroke:new Tt.A.style.Stroke({color:[255,255,255],width:4})}),new Tt.A.style.Style({stroke:new Tt.A.style.Stroke({color:[41,120,180],width:1.5})})]}),ln(t,"clearResult",function(){t.drawLayer.source.clear(),t.measurementObjects.forEach(function(e){t.props.sceneContext.scene.remove(e)}),t.measurementObjects=[],t.setState({result:null})}),ln(t,"restart",function(){t.abortController&&t.abortController.abort(),t.abortController=new AbortController;var e={signal:t.abortController.signal,endCondition:kt.jA.doubleClick};"Point"===t.state.mode?t.measureTool.createPoint(e).then(t.measurePoint):"LineString"===t.state.mode?t.measureTool.createLineString(e).then(t.measureLine):"Polygon"===t.state.mode?t.measureTool.createPolygon(e).then(t.measureArea):"Height"===t.state.mode&&t.measureTool.createVerticalMeasure(e).then(t.measureHeight)}),ln(t,"measurePoint",function(e){if(null!==e){t.clearResult();var A=e.points[0],n=t.getElevation([A.x,A.y]),r=A.z-n>.3?A.z-n:0,o=function(e){return 0===e.index?St.A.formatMeasurement(n,!1,V.A.tr("measureComponent.absolute")):r>0&&"ground"===t.state.elevUnit?St.A.formatMeasurement(A.z-n,!1,V.A.tr("measureComponent.ground")):St.A.formatMeasurement(A.z,!1,V.A.tr("measureComponent.absolute"))},a=null;r>0?(a=new we.Ay({showVertexLabels:!0,showLine:!0,showVertices:!0,vertexLabelFormatter:o})).setPoints([new v.Pq0(A.x,A.y,n),A]):(a=new we.Ay({showVertexLabels:!0,showLine:!1,showVertices:!0,vertexLabelFormatter:o})).setPoints([new v.Pq0(A.x,A.y,A.z)]),t.props.sceneContext.scene.add(a),t.measurementObjects.push(a),t.props.sceneContext.scene.remove(e),t.setState({result:{pos:[A.x,A.y,A.z],ground:r}}),t.restart()}else t.restart()}),ln(t,"measureLine",function(e){if(null!==e){t.clearResult();var A=(new Tt.A.format.GeoJSON).readFeatures(e.toGeoJSON(),{dataProjection:"EPSG:4326",featureProjection:t.props.sceneContext.mapCrs});t.drawLayer.source.addFeatures(A),t.props.sceneContext.scene.remove(e);for(var n=new v.jGm,r=0,o=0;o<e.points.length-1;o++){var a=e.points[o],i=e.points[o+1],c=new v.GZZ(new v.I9Y(a.x,a.y),new v.I9Y(i.x,i.y));n.add(c),r+=Math.sqrt((i.x-a.x)*(i.x-a.x)+(i.y-a.y)*(i.y-a.y))}var s=Math.min(t.props.maxSampleCount,Math.round(r/t.props.minMeasureLength)),l=n.getSpacedPoints(s-1),u=new Array(s);u[0]=[l[0].x,l[0].y,t.getElevation([l[0].x,l[0].y]),0];for(var p=0,m=1;m<s;++m){u[m]=[l[m].x,l[m].y,t.getElevation([l[m].x,l[m].y]),0];var d=u[m][0]-u[m-1][0],g=u[m][1]-u[m-1][1],f=u[m][2]-u[m-1][2];p+=Math.sqrt(d*d+g*g+f*f),u[m][3]=p}t.setState({result:{length:p,profile:u}}),t.restart()}else t.restart()}),ln(t,"measureArea",function(e){if(null!==e){t.clearResult();var A=(new Tt.A.format.GeoJSON).readFeatures(e.toGeoJSON(),{dataProjection:"EPSG:4326",featureProjection:t.props.sceneContext.mapCrs});t.drawLayer.source.addFeatures(A),t.props.sceneContext.scene.remove(e);for(var n=[e.points[0].x,e.points[0].y,e.points[0].x,e.points[0].y],r=e.points.map(function(e){return n[0]=Math.min(n[0],e.x),n[1]=Math.min(n[1],e.y),n[2]=Math.max(n[2],e.x),n[3]=Math.max(n[3],e.y),[e.x,e.y]}),o=t.props.minMeasureLength,a=Math.min(t.props.maxSampleCount,Math.round((n[2]-n[0])/o)),i=Math.min(t.props.maxSampleCount,Math.round((n[3]-n[1])/o)),c=(n[2]-n[0])/a,s=(n[3]-n[1])/i,l=0,u=new Array(a*i),p=0;p<a-1;++p)for(var m=0;m<i-1;++m){var d,v,g,f,w=[n[0]+p*c,n[1]+m*s],b=[w[0]+.5*c,w[1]+.5*s];if(Lt()(b,r)){var y=null!==(d=u[m*a+p])&&void 0!==d?d:u[m*a+p]=t.getElevation(w),C=null!==(v=u[m*a+p+1])&&void 0!==v?v:u[m*a+p+1]=t.getElevation([w[0]+c,w[1]]),h=null!==(g=u[(m+1)*a+p+1])&&void 0!==g?g:u[(m+1)*a+p+1]=t.getElevation([w[0]+c,w[1]+s]),P=null!==(f=u[(m+1)*a+p])&&void 0!==f?f:u[(m+1)*a+p]=t.getElevation([w[0],w[1]+s]);Math.abs(h-y)<Math.abs(P-C)?l+=t.triangleArea([-c,0,y-C],[0,s,h-C])+t.triangleArea([0,-s,y-P],[c,0,h-P]):l+=t.triangleArea([c,0,C-y],[0,s,P-y])+t.triangleArea([-c,0,P-h],[0,-s,y-h])}}t.setState({result:l}),t.restart()}else t.restart()}),ln(t,"measureHeight",function(e){null!==e?(t.clearResult(),t.measurementObjects.push(e),t.restart()):t.restart()}),ln(t,"getElevation",function(e){var A=new X.Ay(t.props.sceneContext.mapCrs,e[0],e[1],0),n=t.props.sceneContext.map.getElevation({coordinates:A});return n.samples.length>0?(n.samples.sort(function(e,A){return e.resolution-A.resolution}),n.samples[0].elevation):null}),ln(t,"triangleArea",function(e,A){var t=[e[1]*A[2]-e[2]*A[1],e[0]*A[2]-e[2]*A[0],e[0]*A[1]-e[1]*A[0]];return.5*Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])}),t.measureTool=null,t.measurementObjects=[],t}return function(e,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(A&&A.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),A&&sn(e,A)}(A,e),t=A,(r=[{key:"componentDidUpdate",value:function(e,A){this.state.mode!==A.mode&&(this.clearResult(),this.restart()),this.state.elevUnit!==A.elevUnit&&(this.measurementObjects[0].rebuildLabels(),this.props.sceneContext.scene.notifyChange())}},{key:"render",value:function(){var e,A=this;return[n.createElement(ge.A,{key:"TaskBar",onHide:this.onHide,onShow:this.onShow,task:"Measure3D"},function(){return{body:n.createElement("div",null,A.renderModeSwitcher(),A.renderResult())}}),null!==(e=this.state.result)&&void 0!==e&&e.profile?n.createElement(tn,{data:this.state.result.profile,key:"HeightProfile",sceneContext:this.props.sceneContext}):null]}}])&&rn(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r}(n.Component);ln(pn,"propTypes",{maxSampleCount:d().number,minMeasureLength:d().number,sceneContext:d().object}),ln(pn,"defaultProps",{maxSampleCount:500,minMeasureLength:5});var mn=t(39892),dn=t(2739),vn={};function gn(e){return gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gn(e)}function fn(e,A){for(var t=0;t<A.length;t++){var n=A[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Pn(n.key),n)}}function wn(e,A,t){return A=yn(A),function(e,A){if(A&&("object"==gn(A)||"function"==typeof A))return A;if(void 0!==A)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,bn()?Reflect.construct(A,t||[],yn(e).constructor):A.apply(e,t))}function bn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(bn=function(){return!!e})()}function yn(e){return yn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yn(e)}function Cn(e,A){return Cn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,A){return e.__proto__=A,e},Cn(e,A)}function hn(e,A,t){return(A=Pn(A))in e?Object.defineProperty(e,A,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[A]=t,e}function Pn(e){var A=function(e){if("object"!=gn(e)||!e)return e;var A=e[Symbol.toPrimitive];if(void 0!==A){var t=A.call(e,"string");if("object"!=gn(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==gn(A)?A:A+""}vn.styleTagTransform=Z(),vn.setAttributes=x(),vn.insert=z().bind(null,"head"),vn.domAPI=B(),vn.insertStyleElement=O(),M()(dn.A,vn),dn.A&&dn.A.locals&&dn.A.locals;var In=function(e){function A(e){var t;return function(e,A){if(!(e instanceof A))throw new TypeError("Cannot call a class as a function")}(this,A),hn(t=wn(this,A,[e]),"state",{collapsed:!0}),hn(t,"initOverviewMap",function(e){e&&(t.map=new Tt.A.Map({layers:[t.viewConeLayer],controls:[],target:e}),t.setupView())}),hn(t,"setupView",function(){var e=new Tt.A.View({enableRotation:!1,projection:t.props.sceneContext.mapCrs});t.map.setView(e),t.updateViewCone()}),hn(t,"updateViewCone",function(){var e,A,n;if(t.map){var r=t.props.sceneContext.scene,o=r.view.camera.position.x,a=r.view.camera.position.y,i=null!==(e=null===(A=r.view.controls)||void 0===A||null===(n=A.getAzimuthalAngle)||void 0===n?void 0:n.call(A))&&void 0!==e?e:0,c=r.view.camera.position.z/100;t.map.getView().setCenter([o,a]),t.map.getView().setResolution(c),t.viewConeFeature.getGeometry().setCoordinates([o,a]),t.viewConeFeature.set("rotation",-i,!0),t.viewConeLayer.getSource().changed()}}),t.map=null,t.viewConeFeature=new Tt.A.Feature(new Tt.A.geom.Point([0,0])),t.viewConeLayer=new Tt.A.layer.Vector({source:new Tt.A.source.Vector({features:[t.viewConeFeature]}),style:function(e){return new Tt.A.style.Style({fill:new Tt.A.style.Fill({color:"white"}),stroke:new Tt.A.style.Stroke({color:"red",width:2}),image:new Tt.A.style.Icon({anchor:[.5,1],anchorXUnits:"fraction",anchorYUnits:"fraction",src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+DQo8IS0tIENyZWF0ZWQgd2l0aCBJbmtzY2FwZSAoaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvKSAtLT4NCg0KPHN2Zw0KICAgd2lkdGg9IjMyIg0KICAgaGVpZ2h0PSIzMiINCiAgIHZpZXdCb3g9IjAgMCA4LjQ2NjY2NjUgOC40NjY2NjYzIg0KICAgdmVyc2lvbj0iMS4xIg0KICAgaWQ9InN2ZzEiDQogICBpbmtzY2FwZTp2ZXJzaW9uPSIxLjMuMiAoMDkxZTIwZWYwZiwgMjAyMy0xMS0yNSkiDQogICBzb2RpcG9kaTpkb2NuYW1lPSJ2aWV3Y29uZS5zdmciDQogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSINCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCINCiAgIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIg0KICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIg0KICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogIDxzb2RpcG9kaTpuYW1lZHZpZXcNCiAgICAgaWQ9Im5hbWVkdmlldzEiDQogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiINCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiDQogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCINCiAgICAgaW5rc2NhcGU6c2hvd3BhZ2VzaGFkb3c9IjIiDQogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiDQogICAgIGlua3NjYXBlOnBhZ2VjaGVja2VyYm9hcmQ9IjAiDQogICAgIGlua3NjYXBlOmRlc2tjb2xvcj0iI2QxZDFkMSINCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9Im1tIg0KICAgICBzaG93Z3JpZD0idHJ1ZSINCiAgICAgaW5rc2NhcGU6em9vbT0iMjYuMDg0MDY2Ig0KICAgICBpbmtzY2FwZTpjeD0iMTQuMDg5MDYxIg0KICAgICBpbmtzY2FwZTpjeT0iMTUuOTI5MjY1Ig0KICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjE5MjAiDQogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9IjExNzIiDQogICAgIGlua3NjYXBlOndpbmRvdy14PSIwIg0KICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCINCiAgICAgaW5rc2NhcGU6d2luZG93LW1heGltaXplZD0iMSINCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIj4NCiAgICA8aW5rc2NhcGU6Z3JpZA0KICAgICAgIGlkPSJncmlkMSINCiAgICAgICB1bml0cz0icHgiDQogICAgICAgb3JpZ2lueD0iMCINCiAgICAgICBvcmlnaW55PSIwIg0KICAgICAgIHNwYWNpbmd4PSIwLjI2NDU4MzMzIg0KICAgICAgIHNwYWNpbmd5PSIwLjI2NDU4MzM0Ig0KICAgICAgIGVtcGNvbG9yPSIjMDA5OWU1Ig0KICAgICAgIGVtcG9wYWNpdHk9IjAuMzAxOTYwNzgiDQogICAgICAgY29sb3I9IiMwMDk5ZTUiDQogICAgICAgb3BhY2l0eT0iMC4xNDkwMTk2MSINCiAgICAgICBlbXBzcGFjaW5nPSI1Ig0KICAgICAgIGRvdHRlZD0iZmFsc2UiDQogICAgICAgZ3JpZGFuZ2xleD0iMzAiDQogICAgICAgZ3JpZGFuZ2xlej0iMzAiDQogICAgICAgdmlzaWJsZT0idHJ1ZSIgLz4NCiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+DQogIDxkZWZzDQogICAgIGlkPSJkZWZzMSI+DQogICAgPGxpbmVhckdyYWRpZW50DQogICAgICAgaWQ9ImxpbmVhckdyYWRpZW50MyINCiAgICAgICBpbmtzY2FwZTpjb2xsZWN0PSJhbHdheXMiPg0KICAgICAgPHN0b3ANCiAgICAgICAgIHN0eWxlPSJzdG9wLWNvbG9yOiNmZjAwMDA7c3RvcC1vcGFjaXR5OjE7Ig0KICAgICAgICAgb2Zmc2V0PSIwIg0KICAgICAgICAgaWQ9InN0b3AzIiAvPg0KICAgICAgPHN0b3ANCiAgICAgICAgIHN0eWxlPSJzdG9wLWNvbG9yOiMwMDAwMDA7c3RvcC1vcGFjaXR5OjA7Ig0KICAgICAgICAgb2Zmc2V0PSIxIg0KICAgICAgICAgaWQ9InN0b3A0IiAvPg0KICAgIDwvbGluZWFyR3JhZGllbnQ+DQogICAgPGxpbmVhckdyYWRpZW50DQogICAgICAgaWQ9ImxpbmVhckdyYWRpZW50MSINCiAgICAgICBpbmtzY2FwZTpjb2xsZWN0PSJhbHdheXMiPg0KICAgICAgPHN0b3ANCiAgICAgICAgIHN0eWxlPSJzdG9wLWNvbG9yOiNmZjAwMDA7c3RvcC1vcGFjaXR5OjE7Ig0KICAgICAgICAgb2Zmc2V0PSIwIg0KICAgICAgICAgaWQ9InN0b3AxIiAvPg0KICAgICAgPHN0b3ANCiAgICAgICAgIHN0eWxlPSJzdG9wLWNvbG9yOiMwMDAwMDA7c3RvcC1vcGFjaXR5OjA7Ig0KICAgICAgICAgb2Zmc2V0PSIxIg0KICAgICAgICAgaWQ9InN0b3AyIiAvPg0KICAgIDwvbGluZWFyR3JhZGllbnQ+DQogICAgPGxpbmVhckdyYWRpZW50DQogICAgICAgaW5rc2NhcGU6Y29sbGVjdD0iYWx3YXlzIg0KICAgICAgIHhsaW5rOmhyZWY9IiNsaW5lYXJHcmFkaWVudDEiDQogICAgICAgaWQ9ImxpbmVhckdyYWRpZW50MiINCiAgICAgICB4MT0iMTc5LjkxNjY3Ig0KICAgICAgIHkxPSIxNjIuODkxMzEiDQogICAgICAgeDI9IjE3OS45MTY3MiINCiAgICAgICB5Mj0iMTQxLjYzOTI1Ig0KICAgICAgIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIg0KICAgICAgIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoMC4wNjk2MjE3MiwwLDAsMC4xMjk5NjA1NSw0Ny4zMTkxMDMsOTQuMzA1MDA2KSIgLz4NCiAgICA8bGluZWFyR3JhZGllbnQNCiAgICAgICBpbmtzY2FwZTpjb2xsZWN0PSJhbHdheXMiDQogICAgICAgeGxpbms6aHJlZj0iI2xpbmVhckdyYWRpZW50MyINCiAgICAgICBpZD0ibGluZWFyR3JhZGllbnQ0Ig0KICAgICAgIHgxPSI1OS44NDUyMTUiDQogICAgICAgeTE9IjExNi42ODEyNyINCiAgICAgICB4Mj0iNTkuODQ1MjE1Ig0KICAgICAgIHkyPSIxMTIuNzEyNTIiDQogICAgICAgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiDQogICAgICAgZ3JhZGllbnRUcmFuc2Zvcm09InRyYW5zbGF0ZSgzLjg4Mjg1MzJlLTcpIiAvPg0KICA8L2RlZnM+DQogIDxnDQogICAgIGlua3NjYXBlOmxhYmVsPSJMYXllciAxIg0KICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIg0KICAgICBpZD0ibGF5ZXIxIg0KICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTUuNjExODgxLC0xMTEuMTI1MDIpIj4NCiAgICA8cGF0aA0KICAgICAgIHN0eWxlPSJvcGFjaXR5OjAuNjU7ZmlsbDp1cmwoI2xpbmVhckdyYWRpZW50Mik7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjAuMDYyOTE4ODtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2Utb3BhY2l0eToxIg0KICAgICAgIGlkPSJwYXRoMSINCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiDQogICAgICAgc29kaXBvZGk6Y3g9IjU5Ljg0NTIxNSINCiAgICAgICBzb2RpcG9kaTpjeT0iMTE5LjA2MjUxIg0KICAgICAgIHNvZGlwb2RpOnJ4PSI1LjUyNjIyNDEiDQogICAgICAgc29kaXBvZGk6cnk9IjEwLjMxNTYxOSINCiAgICAgICBzb2RpcG9kaTpzdGFydD0iMy44Mzk3MjQ0Ig0KICAgICAgIHNvZGlwb2RpOmVuZD0iNS41ODUwNTM2Ig0KICAgICAgIHNvZGlwb2RpOmFyYy10eXBlPSJzbGljZSINCiAgICAgICBkPSJtIDU1LjYxMTg4MiwxMTIuNDMxNzUgYSA1LjUyNjIyNDEsMTAuMzE1NjE5IDAgMCAxIDQuMjMzMzMzLC0zLjY4NDg2IDUuNTI2MjI0MSwxMC4zMTU2MTkgMCAwIDEgNC4yMzMzMzMsMy42ODQ4NyBsIC00LjIzMzMzMyw2LjYzMDc1IHoiIC8+DQogICAgPHBhdGgNCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTp1cmwoI2xpbmVhckdyYWRpZW50NCk7c3Ryb2tlLXdpZHRoOjAuMztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2UtZGFzaGFycmF5Om5vbmUiDQogICAgICAgZD0ibSA1NS42MTE4ODEsMTEyLjcxMjUyIDQuMjMzMzMzLDYuNjE0NTggNC4yMzMzMzMsLTYuNjE0NTkiDQogICAgICAgaWQ9InBhdGgyIg0KICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjIiAvPg0KICA8L2c+DQo8L3N2Zz4NCg==",rotation:e.get("rotation"),scale:2})})},zIndex:1e4}),t}return function(e,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(A&&A.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),A&&Cn(e,A)}(A,e),t=A,(r=[{key:"componentDidMount",value:function(){this.props.sceneContext.scene.view.controls.addEventListener("change",this.updateViewCone)}},{key:"componentDidUpdate",value:function(e,A){this.props.sceneContext.mapCrs!==e.sceneContext.mapCrs&&this.setupView(),this.map&&(this.state.center===A.center&&this.state.azimuth===A.azimuth||(this.map.getView().setCenter(this.state.center),this.viewConeFeature.getGeometry().setCoordinates(this.state.center),this.viewConeFeature.set("rotation",-this.state.azimuth,!0),this.viewConeLayer.getSource().changed()),this.state.resolution!==A.resolution&&this.map.getView().setResolution(this.state.resolution))}},{key:"render",value:function(){var e=this,A={display:this.state.collapsed?"none":"initial"};return[n.createElement("div",{className:"overview-map-3d",key:"map3d-overview-map"},n.createElement("div",{className:"ol-overviewmap-map-3d",ref:this.initOverviewMap,style:A}),n.createElement("button",{onClick:function(){return e.setState(function(e){return{collapsed:!e.collapsed}})},type:"button"},this.state.collapsed?"«":"»")),this.map&&this.props.baseLayer?n.createElement(mn.Ay,{key:this.props.baseLayer.name,map:this.map,options:this.props.baseLayer,projection:this.props.sceneContext.mapCrs}):null]}}])&&fn(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r}(n.Component);hn(In,"propTypes",{baseLayer:d().object,sceneContext:d().object});var Mn=t(92374),jn=t(46981),Bn=t(10468),Dn=t(36790),zn=t(46436),En=t(5830),xn={};function kn(e){return kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kn(e)}function On(e,A){for(var t=0;t<A.length;t++){var n=A[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Wn(n.key),n)}}function Tn(e,A,t){return A=Ln(A),function(e,A){if(A&&("object"==kn(A)||"function"==typeof A))return A;if(void 0!==A)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Zn()?Reflect.construct(A,t||[],Ln(e).constructor):A.apply(e,t))}function Zn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Zn=function(){return!!e})()}function Ln(e){return Ln=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ln(e)}function Sn(e,A){return Sn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,A){return e.__proto__=A,e},Sn(e,A)}function Qn(e,A,t){return(A=Wn(A))in e?Object.defineProperty(e,A,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[A]=t,e}function Wn(e){var A=function(e){if("object"!=kn(e)||!e)return e;var A=e[Symbol.toPrimitive];if(void 0!==A){var t=A.call(e,"string");if("object"!=kn(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==kn(A)?A:A+""}xn.styleTagTransform=Z(),xn.setAttributes=x(),xn.insert=z().bind(null,"head"),xn.domAPI=B(),xn.insertStyleElement=O(),M()(En.A,xn),En.A&&En.A.locals&&En.A.locals;var Nn=function(e){function A(){var e;!function(e,A){if(!(e instanceof A))throw new TypeError("Cannot call a class as a function")}(this,A);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Qn(e=Tn(this,A,[].concat(n)),"searchResultSelected",function(A){var t,n,r=e.props.sceneContext;if(r.removeLayer("__searchHighlight"),r.removeSceneObject("__searchMarker"),A){var o=r.mapCrs,a=h.A.reproject([A.x,A.y],null!==(t=A.crs)&&void 0!==t?t:o,o);if(A.feature&&"Point"!==(null===(n=A.feature)||void 0===n||null===(n=n.geometry)||void 0===n?void 0:n.type)){var i,c=new Tt.A.format.GeoJSON,s=c.readFeatures(A.feature,{dataProjection:null!==(i=A.crs)&&void 0!==i?i:o,featureProjection:o}),l=new xt.A({source:new Ot.A({data:s,format:c,style:function(e){return Bn.Ay.default(e,{})}})});r.addLayer("__searchHighlight",l)}var u=A.feature?Dn.A.computeFeatureBBox(A.feature):[a[0],a[1],a[0],a[1]],p=u[2]-u[0],m=u[3]-u[1],d=e.props.sceneContext.scene.viewport.getBoundingClientRect(),g=.0254/96,f=d.width*g*e.props.options.searchMinScaleDenom,w=d.height*g*e.props.options.searchMinScaleDenom;if(Math.max(p/f,m/w)<1){var b=.5*(u[0]+u[2]),y=.5*(u[1]+u[3]);u=[b-f/2,y-w/2,b+f/2,y+w/2]}r.setViewToExtent(u,0),r.getTerrainHeight(a).then(function(e){(new J.B).load("data:model/gltf-binary;base64,Z2xURgIAAABYZAAA7AkAAEpTT057ImFzc2V0Ijp7InZlcnNpb24iOiIyLjAiLCJnZW5lcmF0b3IiOiJUSFJFRS5HTFRGRXhwb3J0ZXIifSwic2NlbmVzIjpbeyJub2RlcyI6WzAsMSwyXSwibmFtZSI6IlNjZW5lIn1dLCJzY2VuZSI6MCwibm9kZXMiOlt7Im1hdHJpeCI6WzEsMCwwLDAsMCwxLDAsMCwwLDAsMSwwLDEuNSw0LDIuNSwxXSwibmFtZSI6IkRpcmVjdGlvbmFsTGlnaHQiLCJleHRlbnNpb25zIjp7IktIUl9saWdodHNfcHVuY3R1YWwiOnsibGlnaHQiOjB9fX0seyJtYXRyaXgiOlswLjA1LDAsMCwwLDAsMiwwLDAsMCwwLDAuMDUsMCwwLDEsMCwxXSwibmFtZSI6IkN5bGluZGVyIiwibWVzaCI6MH0seyJtYXRyaXgiOlsxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCwwLDIsMCwxXSwibmFtZSI6IlNwaGVyZSIsIm1lc2giOjF9XSwiZXh0ZW5zaW9ucyI6eyJLSFJfbGlnaHRzX3B1bmN0dWFsIjp7ImxpZ2h0cyI6W3sibmFtZSI6IkRpcmVjdGlvbmFsTGlnaHQiLCJjb2xvciI6WzEsMSwxXSwiaW50ZW5zaXR5IjoxLCJ0eXBlIjoiZGlyZWN0aW9uYWwifV19fSwiYnVmZmVyVmlld3MiOlt7ImJ1ZmZlciI6MCwiYnl0ZU9mZnNldCI6MCwiYnl0ZUxlbmd0aCI6MTQ4OCwidGFyZ2V0IjozNDk2MiwiYnl0ZVN0cmlkZSI6MTJ9LHsiYnVmZmVyIjowLCJieXRlT2Zmc2V0IjoxNDg4LCJieXRlTGVuZ3RoIjoxNDg4LCJ0YXJnZXQiOjM0OTYyLCJieXRlU3RyaWRlIjoxMn0seyJidWZmZXIiOjAsImJ5dGVPZmZzZXQiOjI5NzYsImJ5dGVMZW5ndGgiOjk5MiwidGFyZ2V0IjozNDk2MiwiYnl0ZVN0cmlkZSI6OH0seyJidWZmZXIiOjAsImJ5dGVPZmZzZXQiOjM5NjgsImJ5dGVMZW5ndGgiOjQ4MCwidGFyZ2V0IjozNDk2M30seyJidWZmZXIiOjAsImJ5dGVPZmZzZXQiOjQ0NDgsImJ5dGVMZW5ndGgiOjUyOTIsInRhcmdldCI6MzQ5NjIsImJ5dGVTdHJpZGUiOjEyfSx7ImJ1ZmZlciI6MCwiYnl0ZU9mZnNldCI6OTc0MCwiYnl0ZUxlbmd0aCI6NTI5MiwidGFyZ2V0IjozNDk2MiwiYnl0ZVN0cmlkZSI6MTJ9LHsiYnVmZmVyIjowLCJieXRlT2Zmc2V0IjoxNTAzMiwiYnl0ZUxlbmd0aCI6MzUyOCwidGFyZ2V0IjozNDk2MiwiYnl0ZVN0cmlkZSI6OH0seyJidWZmZXIiOjAsImJ5dGVPZmZzZXQiOjE4NTYwLCJieXRlTGVuZ3RoIjo0NTYwLCJ0YXJnZXQiOjM0OTYzfV0sImJ1ZmZlcnMiOlt7ImJ5dGVMZW5ndGgiOjIzMTIwfV0sImFjY2Vzc29ycyI6W3siYnVmZmVyVmlldyI6MCwiY29tcG9uZW50VHlwZSI6NTEyNiwiY291bnQiOjEyNCwibWF4IjpbMSwwLjUsMV0sIm1pbiI6Wy0xLC0wLjUsLTFdLCJ0eXBlIjoiVkVDMyJ9LHsiYnVmZmVyVmlldyI6MSwiY29tcG9uZW50VHlwZSI6NTEyNiwiY291bnQiOjEyNCwibWF4IjpbMSwxLDFdLCJtaW4iOlstMSwtMSwtMV0sInR5cGUiOiJWRUMzIn0seyJidWZmZXJWaWV3IjoyLCJjb21wb25lbnRUeXBlIjo1MTI2LCJjb3VudCI6MTI0LCJtYXgiOlsxLDFdLCJtaW4iOlswLDBdLCJ0eXBlIjoiVkVDMiJ9LHsiYnVmZmVyVmlldyI6MywiY29tcG9uZW50VHlwZSI6NTEyMywiY291bnQiOjI0MCwibWF4IjpbMTIzXSwibWluIjpbMF0sInR5cGUiOiJTQ0FMQVIifSx7ImJ1ZmZlclZpZXciOjQsImNvbXBvbmVudFR5cGUiOjUxMjYsImNvdW50Ijo0NDEsIm1heCI6WzAuNDAwMDAwMDA1OTYwNDY0NSwwLjQwMDAwMDAwNTk2MDQ2NDUsMC40MDAwMDAwMDU5NjA0NjQ1XSwibWluIjpbLTAuNDAwMDAwMDA1OTYwNDY0NSwtMC40MDAwMDAwMDU5NjA0NjQ1LC0wLjQwMDAwMDAwNTk2MDQ2NDVdLCJ0eXBlIjoiVkVDMyJ9LHsiYnVmZmVyVmlldyI6NSwiY29tcG9u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cXhzvwAAAAB6N54+vRtPvwAAAAAYeRY/GHkWvwAAAAC9G08/ejeevgAAAABxeHM/MjGNpQAAAAAAAIA/AAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAAAAAAAAAAgL8AAAAA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zczMPQAAAD/NzMw9zcwMP83MzD2amRk/zczMPWZmJj/NzMw9MzMzP83MzD0AAEA/zczMPc3MTD/NzMw9mplZP83MzD1mZmY/zczMPTMzcz/NzMw9AACAP83MzD0AAAAAzcxMPc3MTD3NzEw9zczMPc3MTD2amRk+zcxMPc3MTD7NzEw9AACAPs3MTD2amZk+zcxMPTMzsz7NzEw9zczMPs3MTD1mZuY+zcxMPQAAAD/NzEw9zcwMP83MTD2amRk/zcxMPWZmJj/NzEw9MzMzP83MTD0AAEA/zcxMPc3MTD/NzEw9mplZP83MTD1mZmY/zcxMPTMzcz/NzEw9AACAP83MTD3NzMy8AAAAAM3MzDwAAAAAmpmZPQAAAAAAAAA+AAAAADMzMz4AAAAAZmZmPgAAAADNzIw+AAAAAGZmpj4AAAAAAADAPgAAAACamdk+AAAAADMz8z4AAAAAZmYGPwAAAAAzMxM/AAAAAAAAID8AAAAAzcwsPwAAAACamTk/AAAAAGZmRj8AAAAAMzNTPwAAAAAAAGA/AAAAAM3MbD8AAAAAmpl5PwAAAAAAABUAFgABABYAFwACABcAGAADABgAGQAEABkAGgAFABoAGwAGABsAHAAHABwAHQAIAB0AHgAJAB4AHwAKAB8AIAALACAAIQAMACEAIgANACIAIwAOACMAJAAPACQAJQAQACUAJgARACYAJwASACcAKAATACgAKQAWABUAKwAVACoAKwAXABYALAAWACsALAAYABcALQAXACwALQAZABgALgAYAC0ALgAaABkALwAZAC4ALwAbABoAMAAaAC8AMAAcABsAMQAbADAAMQAdABwAMgAcADEAMgAeAB0AMwAdADIAMwAfAB4ANAAeADMANAAgAB8ANQAfADQANQAhACAANgAgADUANgAiACEANwAhADYANwAjACIAOAAiADcAOAAkACMAOQAjADgAOQAlACQAOgAkADkAOgAmACUAOwAlADoAOwAnACYAPAAmADsAPAAoACcAPQAnADwAPQApACgAPgAoAD0APgArACoAQAAqAD8AQAAsACsAQQArAEAAQQAtACwAQgAsAEEAQgAuAC0AQwAtAEIAQwAvAC4ARAAuAEMARAAwAC8ARQAvAEQARQAxADAARgAwAEUARgAyADEARwAxAEYARwAzADIASAAyAEcASAA0ADMASQAzAEgASQA1ADQASgA0AEkASgA2ADUASwA1AEoASwA3ADYATAA2AEsATAA4ADcATQA3AEwATQA5ADgATgA4AE0ATgA6ADkATwA5AE4ATwA7ADoAUAA6AE8AUAA8ADsAUQA7AFAAUQA9ADwAUgA8AFEAUgA+AD0AUwA9AFIAUwBAAD8AVQA/AFQAVQBBAEAAVgBAAFUAVgBCAEEAVwBBAFYAVwBDAEIAWABCAFcAWABEAEMAWQBDAFgAWQBFAEQAWgBEAFkAWgBGAEUAWwBFAFoAWwBHAEYAXABGAFsAXABIAEcAXQBHAFwAXQBJAEgAXgBIAF0AXgBKAEkAXwBJAF4AXwBLAEoAYABKAF8AYABMAEsAYQBLAGAAYQBNAEwAYgBMAGEAYgBOAE0AYwBNAGIAYwBPAE4AZABOAGMAZABQAE8AZQBPAGQAZQBRAFAAZgBQAGUAZgBSAFEAZwBRAGYAZwBTAFIAaABSAGcAaABVAFQAagBUAGkAagBWAFUAawBVAGoAawBXAFYAbABWAGsAbABYAFcAbQBXAGwAbQBZAFgAbgBYAG0AbgBaAFkAbwBZAG4AbwBbAFoAcABaAG8AcABcAFsAcQBbAHAAcQBdAFwAcgBcAHEAcgBeAF0AcwBdAHIAcwBfAF4AdABeAHMAdABgAF8AdQBfAHQAdQBhAGAAdgBgAHUAdgBiAGEAdwBhAHYAdwBjAGIAeABiAHcAeABkAGMAeQBjAHgAeQBlAGQAegBkAHkAegBmAGUAewBlAHoAewBnAGYAfABmAHsAfABoAGcAfQBnAHwAfQBqAGkAfwBpAH4AfwBrAGoAgABqAH8AgABsAGsAgQBrAIAAgQBtAGwAggBsAIEAggBuAG0AgwBtAIIAgwBvAG4AhABuAIMAhABwAG8AhQBvAIQAhQBxAHAAhgBwAIUAhgByAHEAhwBxAIYAhwBzAHIAiAByAIcAiAB0AHMAiQBzAIgAiQB1AHQAigB0AIkAigB2AHUAiwB1AIoAiwB3AHYAjAB2AIsAjAB4AHcAjQB3AIwAjQB5AHgAjgB4AI0AjgB6AHkAjwB5AI4AjwB7AHoAkAB6AI8AkAB8AHsAkQB7AJAAkQB9AHwAkgB8AJEAkgB/AH4AlAB+AJMAlACAAH8AlQB/AJQAlQCBAIAAlgCAAJUAlgCCAIEAlwCBAJYAlwCDAIIAmACCAJcAmACEAIMAmQCDAJgAmQCFAIQAmgCEAJkAmgCGAIUAmwCFAJoAmwCHAIYAnACGAJsAnACIAIcAnQCHAJwAnQCJAIgAngCIAJ0AngCKAIkAnwCJAJ4AnwCLAIoAoACKAJ8AoACMAIsAoQCLAKAAoQCNAIwAogCMAKEAogCOAI0AowCNAKIAowCPAI4ApACOAKMApACQAI8ApQCPAKQApQCRAJAApgCQAKUApgCSAJEApwCRAKYApwCUAJMAqQCTAKgAqQCVAJQAqgCUAKkAqgCWAJUAqwCVAKoAqwCXAJYArACWAKsArACYAJcArQCXAKwArQCZAJgArgCYAK0ArgCaAJkArwCZAK4ArwCbAJoAsACaAK8AsACcAJsAsQCbALAAsQCdAJwAsgCcALEAsgCeAJ0AswCdALIAswCfAJ4AtACeALMAtACgAJ8AtQCfALQAtQChAKAAtgCgALUAtgCiAKEAtwChALYAtwCjAKIAuACiALcAuACkAKMAuQCjALgAuQClAKQAugCkALkAugCmAKUAuwClALoAuwCnAKYAvACmALsAvACpAKgAvgCoAL0AvgCqAKkAvwCpAL4AvwCrAKoAwACqAL8AwACsAKsAwQCrAMAAwQCtAKwAwgCsAMEAwgCuAK0AwwCtAMIAwwCvAK4AxACuAMMAxACwAK8AxQCvAMQAxQCxALAAxgCwAMUAxgCyALEAxwCxAMYAxwCzALIAyACyAMcAyAC0ALMAyQCzAMgAyQC1ALQAygC0AMkAygC2ALUAywC1AMoAywC3ALYAzAC2AMsAzAC4ALcAzQC3AMwAzQC5ALgAzgC4AM0AzgC6ALkAzwC5AM4AzwC7ALoA0AC6AM8A0AC8ALsA0QC7ANAA0QC+AL0A0wC9ANIA0wC/AL4A1AC+ANMA1ADAAL8A1QC/ANQA1QDBAMAA1gDAANUA1gDCAMEA1wDBANYA1wDDAMIA2ADCANcA2ADEAMMA2QDDANgA2QDFAMQA2gDEANkA2gDGAMUA2wDFANoA2wDHAMYA3ADGANsA3ADIAMcA3QDHANwA3QDJAMgA3gDIAN0A3gDKAMkA3wDJAN4A3wDLAMoA4ADKAN8A4ADMAMsA4QDLAOAA4QDNAMwA4gDMAOEA4gDOAM0A4wDNAOIA4wDPAM4A5ADOAOMA5ADQAM8A5QDPAOQA5QDRANAA5gDQAOUA5gDTANIA6ADSAOcA6ADUANMA6QDTAOgA6QDVANQA6gDUAOkA6gDWANUA6wDVAOoA6wDXANYA7ADWAOsA7ADYANcA7QDXAOwA7QDZANgA7gDYAO0A7gDaANkA7wDZAO4A7wDbANoA8ADaAO8A8ADcANsA8QDbAPAA8QDdANwA8gDcAPEA8gDeAN0A8wDdAPIA8wDfAN4A9ADeAPMA9ADgAN8A9QDfAPQA9QDhAOAA9gDgAPUA9gDiAOEA9wDhAPYA9wDjAOIA+ADiAPcA+ADkAOMA+QDjAPgA+QDlAOQA+gDkAPkA+gDmAOUA+wDlAPoA+wDoAOcA/QDnAPwA/QDpAOgA/gDoAP0A/gDqAOkA/wDpAP4A/wDrAOoAAAHqAP8AAAHsAOsAAQHrAAABAQHtAOwAAgHsAAEBAgHuAO0AAwHtAAIBAwHvAO4ABAHuAAMBBAHwAO8ABQHvAAQBBQHxAPAABgHwAAUBBgHyAPEABwHxAAYBBwHzAPIACAHyAAcBCAH0APMACQHzAAgBCQH1APQACgH0AAkBCgH2APUACwH1AAoBCwH3APYADAH2AAsBDAH4APcADQH3AAwBDQH5APgADgH4AA0BDgH6APkADwH5AA4BDwH7APoAEAH6AA8BEAH9APwAEgH8ABEBEgH+AP0AEwH9ABIBEwH/AP4AFAH+ABMBFAEAAf8AFQH/ABQBFQEBAQABFgEAARUBFgECAQEBFwEBARYBFwEDAQIBGAECARcBGAEEAQMBGQEDARgBGQEFAQQBGgEEARkBGgEGAQUBGwEFARoBGwEHAQYBHAEGARsBHAEIAQcBHQEHARwBHQEJAQgBHgEIAR0BHgEKAQkBHwEJAR4BHwELAQoBIAEKAR8BIAEMAQsBIQELASABIQENAQwBIgEMASEBIgEOAQ0BIwENASIBIwEPAQ4BJAEOASMBJAEQAQ8BJQEPASQBJQESAREBJwERASYBJwETARIBKAESAScBKAEUARMBKQETASgBKQEVARQBKgEUASkBKgEWARUBKwEVASoBKwEXARYBLAEWASsBLAEYARcBLQEXASwBLQEZARgBLgEYAS0BLgEaARkBLwEZAS4BLwEbARoBMAEaAS8BMAEcARsBMQEbATABMQEdARwBMgEcATEBMgEeAR0BMwEdATIBMwEfAR4BNAEeATMBNAEgAR8BNQEfATQBNQEhASABNgEgATUBNgEiASEBNwEhATYBNwEjASIBOAEiATcBOAEkASMBOQEjATgBOQElASQBOgEkATkBOgEnASYBPAEmATsBPAEoAScBPQEnATwBPQEpASgBPgEoAT0BPgEqASkBPwEpAT4BPwErASoBQAEqAT8BQAEsASsBQQErAUABQQEtASwBQgEsAUEBQgEuAS0BQwEtAUIBQwEvAS4BRAEuAUMBRAEwAS8BRQEvAUQBRQExATABRgEwAUUBRgEyATEBRwExAUYBRwEzATIBSAEyAUcBSAE0ATMBSQEzAUgBSQE1ATQBSgE0AUkBSgE2ATUBSwE1AUoBSwE3ATYBTAE2AUsBTAE4ATcBTQE3AUwBTQE5ATgBTgE4AU0BTgE6ATkBTwE5AU4BTwE8ATsBUQE7AVABUQE9ATwBUgE8AVEBUgE+AT0BUwE9AVIBUwE/AT4BVAE+AVMBVAFAAT8BVQE/AVQBVQFBAUABVgFAAVUBVgFCAUEBVwFBAVYBVwFDAUIBWAFCAVcBWAFEAUMBWQFDAVgBWQFFAUQBWgFEAVkBWgFGAUUBWwFFAVoBWwFHAUYBXAFGAVsBXAFIAUcBXQFHAVwBXQFJAUgBXgFIAV0BXgFKAUkBXwFJAV4BXwFLAUoBYAFKAV8BYAFMAUsBYQFLAWABYQFNAUwBYgFMAWEBYgFOAU0BYwFNAWIBYwFPAU4BZAFOAWMBZAFRAVABZgFQAWUBZgFSAVEBZwFRAWYBZwFTAVIBaAFSAWcBaAFUAVMBaQFTAWgBaQFVAVQBagFUAWkBagFWAVUBawFVAWoBawFXAVYBbAFWAWsBbAFYAVcBbQFXAWwBbQFZAVgBbgFYAW0BbgFaAVkBbwFZAW4BbwFbAVoBcAFaAW8BcAFcAVsBcQFbAXABcQFdAVwBcgFcAXEBcgFeAV0BcwFdAXIBcwFfAV4BdAFeAXMBdAFgAV8BdQFfAXQBdQFhAWABdgFgAXUBdgFiAWEBdwFhAXYBdwFjAWIBeAFiAXcBeAFkAWMBeQFjAXgBeQFmAWUBewFlAXoBewFnAWYBfAFmAXsBfAFoAWcBfQFnAXwBfQFpAWgBfgFoAX0BfgFqAWkBfwFpAX4BfwFrAWoBgAFqAX8BgAFsAWsBgQFrAYABgQFtAWwBggFsAYEBggFuAW0BgwFtAYIBgwFvAW4BhAFuAYMBhAFwAW8BhQFvAYQBhQFxAXABhgFwAYUBhgFyAXEBhwFxAYYBhwFzAXIBiAFyAYcBiAF0AXMBiQFzAYgBiQF1AXQBigF0AYkBigF2AXUBiwF1AYoBiwF3AXYBjAF2AYsBjAF4AXcBjQF3AYwBjQF5AXgBjgF4AY0BjgF7AXoBkAF6AY8BkAF8AXsBkQF7AZABkQF9AXwBkgF8AZEBkgF+AX0BkwF9AZIBkwF/AX4BlAF+AZMBlAGAAX8BlQF/AZQBlQGBAYABlgGAAZUBlgGCAYEBlwGBAZYBlwGDAYIBmAGCAZcBmAGEAYMBmQGDAZgBmQGFAYQBmgGEAZkBmgGGAYUBmwGFAZoBmwGHAYYBnAGGAZsBnAGIAYcBnQGHAZwBnQGJAYgBngGIAZ0BngGKAYkBnwGJAZ4BnwGLAYoBoAGKAZ8BoAGMAYsBoQGLAaABoQGNAYwBogGMAaEBogGOAY0BowGNAaIBowGQAY8BpQGRAZABpgGSAZEBpwGTAZIBqAGUAZMBqQGVAZQBqgGWAZUBqwGXAZYBrAGYAZcBrQGZAZgBrgGaAZkBrwGbAZoBsAGcAZsBsQGdAZwBsgGeAZ0BswGfAZ4BtAGgAZ8BtQGhAaABtgGiAaEBtwGjAaIBuAE=",function(t){var n,o=new v.YJl,i=t.scene;i.position.x=a[0],i.position.y=a[1],i.position.z=e,i.rotation.x=Math.PI/2,i.updateMatrixWorld(),o.add(i);var c=document.createElement("span");c.innerText=null!==(n=A.label)&&void 0!==n?n:A.text,c.className="map3d-search-pin-label";var s=new jn.v(c);s.position.set(a[0],a[1],e+2),s.updateMatrixWorld(),o.add(s),r.addSceneObject("__searchMarker",o);var l=function(){var A=r.scene.view.camera.position.distanceTo(i.position)/30,t=Math.max(1,A);s.position.z=e+2*t,s.updateMatrixWorld(),i.scale.set(t,t,t),i.updateMatrixWorld()};r.scene.view.controls.addEventListener("change",l),o.addEventListener("removed",function(){r.scene.view.controls.removeEventListener("change",l),c.parentNode.removeChild(c)})})})}}),e}return function(e,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(A&&A.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),A&&Sn(e,A)}(A,e),t=A,(r=[{key:"render",value:function(){return n.createElement(zn.A,{queryGeometries:!0,resultSelected:this.searchResultSelected,searchParams:{mapcrs:this.props.sceneContext.mapCrs,displaycrs:this.props.sceneContext.mapCrs},searchProviders:Object.values(this.props.searchProviders),value:""})}}])&&On(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r}(n.Component);Qn(Nn,"propTypes",{options:d().object,sceneContext:d().object,searchProviders:d().object});var Rn=t(15682),Gn={};function Un(e){return Un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Un(e)}function Yn(e,A){for(var t=0;t<A.length;t++){var n=A[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Vn(n.key),n)}}function Fn(e,A,t){return A=Hn(A),function(e,A){if(A&&("object"==Un(A)||"function"==typeof A))return A;if(void 0!==A)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Kn()?Reflect.construct(A,t||[],Hn(e).constructor):A.apply(e,t))}function Kn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Kn=function(){return!!e})()}function Hn(e){return Hn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Hn(e)}function Xn(e,A){return Xn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,A){return e.__proto__=A,e},Xn(e,A)}function Jn(e,A,t){return(A=Vn(A))in e?Object.defineProperty(e,A,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[A]=t,e}function Vn(e){var A=function(e){if("object"!=Un(e)||!e)return e;var A=e[Symbol.toPrimitive];if(void 0!==A){var t=A.call(e,"string");if("object"!=Un(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Un(A)?A:A+""}Gn.styleTagTransform=Z(),Gn.setAttributes=x(),Gn.insert=z().bind(null,"head"),Gn.domAPI=B(),Gn.insertStyleElement=O(),M()(Rn.A,Gn),Rn.A&&Rn.A.locals&&Rn.A.locals;var qn=function(e){function A(){var e;!function(e,A){if(!(e instanceof A))throw new TypeError("Cannot call a class as a function")}(this,A);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return Jn(e=Fn(this,A,[].concat(r)),"state",{}),Jn(e,"menuButtonContents",function(){return n.createElement("span",{className:"map3d-topbar-menu-button"},n.createElement(q.A,{icon:"menu-hamburger"}))}),Jn(e,"storeHeight",function(A){A&&e.props.setTopbarHeight(A.clientHeight)}),e}return function(e,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(A&&A.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),A&&Xn(e,A)}(A,e),t=A,(r=[{key:"render",value:function(){return n.createElement("div",{className:"map3d-topbar",ref:this.storeHeight},n.createElement(Nn,{options:this.props.options,sceneContext:this.props.sceneContext,searchProviders:this.props.searchProviders}),n.createElement("span",{className:"map3d-topbar-spacer"}),n.createElement(Mn.A,{appMenuClearsTask:!0,buttonContents:this.menuButtonContents(),menuItems:[{key:"LayerTree3D",icon:"layers"},{key:"Draw3D",icon:"draw"},{key:"Measure3D",icon:"measure"},{key:"Compare3D",icon:"compare"},{key:"DateTime3D",icon:"clock"},{key:"MapExport3D",icon:"rasterexport"}]}))}}])&&Yn(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r}(n.Component);Jn(qn,"propTypes",{options:d().object,sceneContext:d().object,searchProviders:d().object,setTopbarHeight:d().func});const _n=(0,r.Ng)(function(){return{}},{setTopbarHeight:P.setTopbarHeight})(qn);var $n=t(83846);const er={create3d:function(e,A){return new xt.A({name:e.name,source:new Ot.A({data:(0,$n.Yg)(e,A),format:new Tt.A.format.GeoJSON,style:e.styleFunction||function(A){var t=e.styleName||"default",n=e.styleOptions||{};return Bn.Ay[t](A,n)}})})},update3d:function(e,A,t,n){A.styleName!==t.styleName||A.styleOptions!==t.styleOptions?e.source.setStyle((0,$n.I2)(A)):A.styleFunction!==t.styleFunction&&e.source.setStyle(A.styleFunction),A.features!==t.features?(0,$n.Xm)(e.source,A,t,n):(t.rev||0)!==(A.rev||0)&&e.source.update()}};var Ar=t(37927),tr=t(26974);function nr(e){return nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nr(e)}function rr(e,A){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);A&&(n=n.filter(function(A){return Object.getOwnPropertyDescriptor(e,A).enumerable})),t.push.apply(t,n)}return t}function or(e){for(var A=1;A<arguments.length;A++){var t=null!=arguments[A]?arguments[A]:{};A%2?rr(Object(t),!0).forEach(function(A){ar(e,A,t[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):rr(Object(t)).forEach(function(A){Object.defineProperty(e,A,Object.getOwnPropertyDescriptor(t,A))})}return e}function ar(e,A,t){return(A=function(e){var A=function(e){if("object"!=nr(e)||!e)return e;var A=e[Symbol.toPrimitive];if(void 0!==A){var t=A.call(e,"string");if("object"!=nr(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==nr(A)?A:A+""}(A))in e?Object.defineProperty(e,A,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[A]=t,e}const ir={create3d:function(e,A){var t=or(or({},(0,tr.fr)(e)),{},{__t:+new Date});return new xt.A({name:e.name,source:new Ar.A({source:new Tt.A.source.TileWMS({url:e.url.split("?")[0],params:t,version:e.version,projection:A,tileLoadFunction:function(e,A){return(0,tr.xN)(e.getImage(),A)}})})})},update3d:function(e,A,t,n){var r;if(t&&null!=e&&null!==(r=e.source)&&void 0!==r&&null!==(r=r.source)&&void 0!==r&&r.updateParams){var o=(t.rev||0)!==(A.rev||0),a=(0,tr.fr)(t),i=(0,tr.fr)(A);if(Object.keys(a).forEach(function(e){e in i||(i[e]=void 0)}),o||(o=void 0!==Object.keys(i).find(function(e){return i[e]!==a[e]})),o|=A.visibility!==t.visibility){var c=or(or({},i),{},{__t:+new Date});e.__updateTimeout&&clearTimeout(e.__updateTimeout),A.visibility&&c.LAYERS||(e.visible=!1),e.__updateTimeout=setTimeout(function(){e.visible=c.LAYERS&&A.visibility,e.source.source.updateParams(c),e.source.update(),e.__updateTimeout=null},500)}}}};var cr=t(23044);function sr(e){return sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sr(e)}function lr(e,A){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);A&&(n=n.filter(function(A){return Object.getOwnPropertyDescriptor(e,A).enumerable})),t.push.apply(t,n)}return t}function ur(e){for(var A=1;A<arguments.length;A++){var t=null!=arguments[A]?arguments[A]:{};A%2?lr(Object(t),!0).forEach(function(A){pr(e,A,t[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):lr(Object(t)).forEach(function(A){Object.defineProperty(e,A,Object.getOwnPropertyDescriptor(t,A))})}return e}function pr(e,A,t){return(A=function(e){var A=function(e){if("object"!=sr(e)||!e)return e;var A=e[Symbol.toPrimitive];if(void 0!==A){var t=A.call(e,"string");if("object"!=sr(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==sr(A)?A:A+""}(A))in e?Object.defineProperty(e,A,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[A]=t,e}const mr={create3d:function(e,A){return new xt.A({name:e.name,source:new Ar.A({source:(0,cr.D)(ur(ur({},e),{},{projection:A}))})})},update3d:function(e,A,t,n){}},dr={vector:er,wms:ir,wmts:mr};var vr=t(70924),gr={};function fr(e){return fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fr(e)}function wr(e){return function(e){if(Array.isArray(e))return yr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||br(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function br(e,A){if(e){if("string"==typeof e)return yr(e,A);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?yr(e,A):void 0}}function yr(e,A){(null==A||A>e.length)&&(A=e.length);for(var t=0,n=Array(A);t<A;t++)n[t]=e[t];return n}function Cr(e,A){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);A&&(n=n.filter(function(A){return Object.getOwnPropertyDescriptor(e,A).enumerable})),t.push.apply(t,n)}return t}function hr(e){for(var A=1;A<arguments.length;A++){var t=null!=arguments[A]?arguments[A]:{};A%2?Cr(Object(t),!0).forEach(function(A){xr(e,A,t[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Cr(Object(t)).forEach(function(A){Object.defineProperty(e,A,Object.getOwnPropertyDescriptor(t,A))})}return e}function Pr(e,A){if(!(e instanceof A))throw new TypeError("Cannot call a class as a function")}function Ir(e,A){for(var t=0;t<A.length;t++){var n=A[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kr(n.key),n)}}function Mr(e,A,t){return A&&Ir(e.prototype,A),t&&Ir(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jr(e,A,t){return A=Dr(A),function(e,A){if(A&&("object"==fr(A)||"function"==typeof A))return A;if(void 0!==A)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Br()?Reflect.construct(A,t||[],Dr(e).constructor):A.apply(e,t))}function Br(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Br=function(){return!!e})()}function Dr(e){return Dr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Dr(e)}function zr(e,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(A&&A.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),A&&Er(e,A)}function Er(e,A){return Er=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,A){return e.__proto__=A,e},Er(e,A)}function xr(e,A,t){return(A=kr(A))in e?Object.defineProperty(e,A,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[A]=t,e}function kr(e){var A=function(e){if("object"!=fr(e)||!e)return e;var A=e[Symbol.toPrimitive];if(void 0!==A){var t=A.call(e,"string");if("object"!=fr(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==fr(A)?A:A+""}gr.styleTagTransform=Z(),gr.setAttributes=x(),gr.insert=z().bind(null,"head"),gr.domAPI=B(),gr.insertStyleElement=O(),M()(vr.A,gr),vr.A&&vr.A.locals&&vr.A.locals;var Or=function(e){function A(){var e;Pr(this,A);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return xr(e=jr(this,A,[].concat(n)),"onUnload",function(A){A||e.props.onUnload(e.props.sceneId)}),e}return zr(A,e),Mr(A,[{key:"render",value:function(){return n.createElement("div",null,this.props.children,n.createElement("span",{ref:this.onUnload}))}}])}(n.Component);xr(Or,"propTypes",{children:d().oneOfType([d().node,d().func]),onUnload:d().func,sceneId:d().string});var Tr=function(e){function A(e){var t;return Pr(this,A),xr(t=jr(this,A,[e]),"state",{sceneContext:hr(hr({},A.defaultSceneState),{},{addLayer:function(e){},getLayer:function(e){},removeLayer:function(e){},updateColorLayer:function(e,A){},addSceneObject:function(e,A){},getSceneObject:function(e){},removeSceneObject:function(e){},updateSceneObject:function(e,A){},setViewToExtent:function(e,A){},getTerrainHeight:function(e){},getSceneIntersection:function(e,A){}}),sceneId:null}),xr(t,"applyBaseLayer",function(){var e=t.state.sceneContext.baseLayers.find(function(e){return!0===e.visibility});if(t.removeLayer("__baselayer"),e){var A=dr[e.type];if(null!=A&&A.create3d){var n=A.create3d(e,t.props.projection);t.addLayer("__baselayer",n),t.map.insertLayerAfter(n,null)}}}),xr(t,"setBaseLayer",function(e,A){t.setState(function(t){return{sceneContext:hr(hr({},t.sceneContext),{},{baseLayers:t.sceneContext.baseLayers.map(function(t){return hr(hr({},t),{},{visibility:t.name===e.name&&A})})})}})}),xr(t,"collectColorLayers",function(e){var A=e.reduce(function(e,A){return hr(hr({},e),{},xr({},A.id,A))},{});return t.props.layers.map(function(e){var t,n;if(e.role!==f.LayerRole.THEME&&e.role!==f.LayerRole.USERLAYER)return null;var r=dr[e.type];if(!r||!r.create3d)return null;var o=A[e.id];return hr(hr({},e),{},{visibility:null!==(t=null==o?void 0:o.visibility)&&void 0!==t&&t,opacity:null!==(n=null==o?void 0:o.opacity)&&void 0!==n?n:255})}).filter(Boolean)}),xr(t,"applyColorLayerUpdates",function(e,A){var n=e.reduce(function(e,A){return hr(hr({},e),{},xr({},A.id,A))},{}),r=A.reduce(function(e,A){return hr(hr({},e),{},xr({},A.id,A))},{}),o=t.getLayer("__baselayer");wr(e).reverse().forEach(function(e){var A=dr[e.type],n=t.getLayer(e.id);n?A.update3d(n.source,e,r[e.id],t.props.projection):(n=A.create3d(e,t.props.projection),t.addLayer(e.id,n)),t.map.insertLayerAfter(n,o),n.visible=e.visibility,n.opacity=e.opacity/255,o=n}),Object.keys(A).forEach(function(e){e.id in n||t.removeLayer(e.id)}),t.instance.notifyChange(t.map)}),xr(t,"applySceneObjectUpdates",function(e){Object.entries(e).forEach(function(e){var A,n,r=(n=2,function(e){if(Array.isArray(e))return e}(A=e)||function(e,A){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,r,o,a,i=[],c=!0,s=!1;try{if(o=(t=t.call(e)).next,0===A){if(Object(t)!==t)return;c=!1}else for(;!(c=(n=o.call(t)).done)&&(i.push(n.value),i.length!==A);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(s)throw r}}return i}}(A,n)||br(A,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],a=r[1],i=t.objectMap[o];i.visible=a.visible,i.opacity=a.opacity,t.instance.notifyChange(i)})}),xr(t,"addLayer",function(e,A){A.userData.layerId=e,t.map.addLayer(A)}),xr(t,"getLayer",function(e){var A;return null!==(A=t.map.getLayers(function(A){return A.userData.layerId===e})[0])&&void 0!==A?A:null}),xr(t,"removeLayer",function(e){t.map.getLayers(function(A){return A.userData.layerId===e}).forEach(function(e){t.map.removeLayer(e,{dispose:!0})})}),xr(t,"updateColorLayer",function(e,A){t.setState(function(t){return{sceneContext:hr(hr({},t.sceneContext),{},{colorLayers:t.sceneContext.colorLayers.map(function(t){return t.id===e?hr(hr({},t),A):t})})}})}),xr(t,"addSceneObject",function(e,A){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t.sceneObjectGroup.add(A),t.objectMap[e]=A,t.setState(function(A){var t=hr({visible:!0,opacity:100,layertree:!1},n);return{sceneContext:hr(hr({},A.sceneContext),{},{sceneObjects:hr(hr({},A.sceneContext.sceneObjects),{},xr({},e,t))})}})}),xr(t,"getSceneObject",function(e){return t.objectMap[e]}),xr(t,"removeSceneObject",function(e){t.objectMap[e]&&t.setState(function(A){t.instance.remove(t.objectMap[e]),delete t.objectMap[e];var n=hr({},A.sceneContext.sceneObjects);return delete n[e],{sceneContext:hr(hr({},A.sceneContext),{},{sceneObjects:n})}})}),xr(t,"updateSceneObject",function(e,A){t.setState(function(t){return{sceneContext:hr(hr({},t.sceneContext),{},{sceneObjects:hr(hr({},t.sceneContext.sceneObjects),{},xr({},e,hr(hr({},t.sceneContext.sceneObjects[e]),A)))})}})}),xr(t,"setupContainer",function(e){e&&(t.container=e,t.setupInstance())}),xr(t,"setupInstance",function(){var e,A,n,r,p;t.instance&&t.disposeInstance();var m=t.props.projection;t.props.setMapCrs(m),t.instance=new o.A({target:t.container,crs:m,renderer:{clearColor:0,preserveDrawingBuffer:!0}}),t.sceneObjectGroup=new v.YJl,t.instance.add(t.sceneObjectGroup);var d=h.A.reprojectBbox(t.props.theme.bbox.bounds,t.props.theme.bbox.crs,m),f=new a.A(m,d[0],d[2],d[1],d[3]);t.map=new c.Ay({extent:f,backgroundColor:"white",hillshading:!0}),t.instance.add(t.map);var w=f.center();t.instance.view.camera.position.set(w.x,w.y,.5*(f.east-f.west));var b=new v.ScU;b.setPath(C.A.getAssetsPath()+"/3d/skybox/");var y=b.load(["px.jpg","nx.jpg","py.jpg","ny.jpg","pz.jpg","nz.jpg"]);t.instance.scene.background=y;var P=null!==(e=null===(A=t.props.theme.map3d)||void 0===A||null===(A=A.dtm)||void 0===A?void 0:A.url)&&void 0!==e?e:"";P.startsWith(":")&&(P=location.href.split("?")[0]+C.A.getAssetsPath()+P.substr(1));var I=(null===(n=t.props.theme.map3d)||void 0===n||null===(n=n.dtm)||void 0===n?void 0:n.crs)||"EPSG:3857";if(P){var M,j,B=new l.A({url:P,crs:I}),D=null!==(M=t.props.theme.map3d.dtm.min)&&void 0!==M?M:void 0,z=null!==(j=t.props.theme.map3d.dtm.max)&&void 0!==j?j:void 0,E=new i.A({name:"dem",extent:f,source:B,minmax:void 0!==D&&void 0!==z?{demMin:D,demMax:z}:void 0});t.addLayer("__dtm",E)}var x=null,k=((null===(r=t.props.theme.map3d)||void 0===r?void 0:r.basemaps)||[]).map(function(e){var A=hr(hr({},t.props.layers.find(function(A){return A.name===e.name})),{},{visibility:!0===e.visibility});return A.visibility&&(x=A),A});x&&t.setBaseLayer(x,!0);var O=t.collectColorLayers([]);t.objectMap={};var T={};((null===(p=t.props.theme.map3d)||void 0===p?void 0:p.tiles3d)||[]).forEach(function(e){var A,n=e.url;n.startsWith(":")&&(n=location.href.split("?")[0]+C.A.getAssetsPath()+n.substr(1));var r=new s.A(new u.A(n));r.userData.layertree=!0,t.instance.add(r),t.objectMap[e.name]=r,T[e.name]={visible:!0,opacity:100,layertree:!0,title:null!==(A=e.title)&&void 0!==A?A:e.name}}),t.setState(function(e){return{sceneContext:hr(hr({},e.sceneContext),{},{scene:t.instance,map:t.map,mapCrs:m,dtmUrl:P,dtmCrs:I,baseLayers:k,colorLayers:O,sceneObjects:T}),sceneId:(0,g.A)()}})}),xr(t,"disposeInstance",function(){t.inspector&&t.inspector.detach(),t.map.dispose({disposeLayers:!0}),t.instance.dispose(),Object.values(t.objectMap).forEach(function(e){t.instance.remove(e),e.traverse(function(e){var A;return null===(A=e.dispose)||void 0===A?void 0:A.call(e)})}),t.inspector=null,t.map=null,t.objectMap={},t.sceneObjectGroup=null,t.instance=null,t.setState(function(e){return{sceneContext:hr(hr({},e.sceneContext),A.defaultSceneState)}}),t.props.setCurrentTask(null)}),xr(t,"onUnload",function(e){t.state.sceneId===e&&t.disposeInstance()}),xr(t,"setupControls",function(e){var A;t.setState(function(A){return{sceneContext:hr(hr({},A.sceneContext),{},{setViewToExtent:null==e?void 0:e.setViewToExtent})}}),null==e||null===(A=e.setViewToExtent)||void 0===A||A.call(e,t.props.mapBBox.bounds,t.props.mapBBox.rotation)}),xr(t,"getTerrainHeight",function(e){var A=h.A.reproject(e,t.state.sceneContext.mapCrs,t.state.sceneContext.dtmCrs);return new Promise(function(e){(0,p.uz)(t.state.sceneContext.dtmUrl).then(function(t){t.getImage().then(function(t){var n=t.fileDirectory,r=n.ModelTiepoint,o=n.ModelPixelScale,a=[o[0],o[1]],i=a[0],c=a[1],s=[r[3],r[4]],l=s[0],u=s[1],p=Math.round((A[0]-l)/i),m=Math.round((u-A[1])/c);t.readRasters({window:[p,m,p+1,m+1]}).then(function(A){e(A[0][0])})})})})}),xr(t,"getSceneIntersection",function(e,A){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=new v.tBo,o=t.instance.view.camera;r.setFromCamera(new v.I9Y(e,A),o);var a=n?r.intersectObjects([t.sceneObjectGroup].concat(wr(t.instance.getEntities().filter(function(e){return e!==t.map}).map(function(e){return e.object3d}))),!0)[0]:void 0,i=r.intersectObjects([t.map.object3d]).filter(function(e){return 0===e.object.children.length})[0];return a&&i?a.distance<i.distance?a:i:null!=a?a:i}),xr(t,"redrawScene",function(e){var A=e.target.innerWidth,n=e.target.innerHeight;t.instance.renderer.setSize(A,n),t.instance.view.camera.aspect=A/n,t.instance.view.camera.updateProjectionMatrix(),t.instance.renderer.render(t.instance.scene,t.instance.view.camera)}),xr(t,"setViewToExtent",function(e,A){t.state.sceneContext.setViewToExtent(e,A)}),t.container=null,t.inspector=null,t.instance=null,t.map=null,t.sceneObjectGroup=null,t.objectMap={},t.state.sceneContext.addLayer=t.addLayer,t.state.sceneContext.getLayer=t.getLayer,t.state.sceneContext.removeLayer=t.removeLayer,t.state.sceneContext.updateColorLayer=t.updateColorLayer,t.state.sceneContext.addSceneObject=t.addSceneObject,t.state.sceneContext.getSceneObject=t.getSceneObject,t.state.sceneContext.removeSceneObject=t.removeSceneObject,t.state.sceneContext.updateSceneObject=t.updateSceneObject,t.state.sceneContext.getTerrainHeight=t.getTerrainHeight,t.state.sceneContext.getSceneIntersection=t.getSceneIntersection,t}return zr(A,e),Mr(A,[{key:"componentDidMount",value:function(){this.props.innerRef(this)}},{key:"componentDidUpdate",value:function(e,A){var t=this;this.props.theme!==e.theme?this.setupInstance():this.props.layers!==e.layers&&this.setState(function(e){return{sceneContext:hr(hr({},e.sceneContext),{},{colorLayers:t.collectColorLayers(e.sceneContext.colorLayers)})}}),this.state.sceneContext.baseLayers!==A.sceneContext.baseLayers&&this.applyBaseLayer(),this.state.sceneContext.colorLayers!==A.sceneContext.colorLayers&&this.applyColorLayerUpdates(this.state.sceneContext.colorLayers,A.sceneContext.colorLayers),this.state.sceneContext.sceneObjects!==A.sceneContext.sceneObjects&&this.applySceneObjectUpdates(this.state.sceneContext.sceneObjects)}},{key:"render",value:function(){var e=this.state.sceneContext.baseLayers.find(function(e){return!0===e.visibility}),A={marginTop:this.props.mapMargins.top,marginRight:this.props.mapMargins.right,marginBottom:this.props.mapMargins.bottom,marginLeft:this.props.mapMargins.left};return n.createElement("div",{className:"map3d-body"},n.createElement("div",{className:"map3d-map",onMouseDown:this.stopAnimations,ref:this.setupContainer,style:A}),this.state.sceneContext.scene?n.createElement(Or,{key:this.state.sceneId,onUnload:this.onUnload,sceneId:this.state.sceneId},n.createElement(et,{ref:this.setupControls,sceneContext:this.state.sceneContext}),n.createElement(y.e,{bottombarHeight:10,changeLayerVisibility:this.setBaseLayer,layers:this.state.sceneContext.baseLayers}),n.createElement(_n,{options:this.props.options,sceneContext:this.state.sceneContext,searchProviders:this.props.searchProviders}),n.createElement(BA,{sceneContext:this.state.sceneContext}),n.createElement(H,{sceneContext:this.state.sceneContext}),n.createElement(In,{baseLayer:e,sceneContext:this.state.sceneContext}),n.createElement(GA,{sceneContext:this.state.sceneContext}),n.createElement(pn,{sceneContext:this.state.sceneContext}),n.createElement(de,{sceneContext:this.state.sceneContext}),n.createElement(mA,{sceneContext:this.state.sceneContext}),n.createElement(Et,{sceneContext:this.state.sceneContext,theme:this.props.theme})):null)}}])}(n.Component);xr(Tr,"propTypes",{innerRef:d().func,layers:d().array,mapBBox:d().object,mapMargins:d().object,options:d().object,projection:d().string,searchProviders:d().object,setCurrentTask:d().func,setMapCrs:d().func,theme:d().object}),xr(Tr,"defaultProps",{geometry:{initialWidth:600,initialHeight:800,initialX:0,initialY:0,initiallyDocked:!0},options:{searchMinScaleDenom:1e3}}),xr(Tr,"defaultSceneState",{scene:null,map:null,mapCrs:null,dtmUrl:null,dtmCrs:null,baseLayers:[],colorLayers:[],sceneObjects:{}});const Zr=(0,r.Ng)(function(e){return{mapMargins:e.windows.mapMargins}},{setMapCrs:w.Ff,setCurrentTask:b.setCurrentTask})(Tr)},5830(e,A,t){"use strict";t.d(A,{A:()=>i});var n=t(15516),r=t.n(n),o=t(81364),a=t.n(o)()(r());a.push([e.id,"span.map3d-search-pin-label {\n    -webkit-text-stroke: 0.8px black;\n    text-stroke: 0.8px black;\n    color: white;\n    font-weight: bold;\n    font-size: 16px;\n}","",{version:3,sources:["webpack://./qwc2/components/map3d/style/SearchField3D.css"],names:[],mappings:"AAAA;IACI,gCAAgC;IAChC,wBAAwB;IACxB,YAAY;IACZ,iBAAiB;IACjB,eAAe;AACnB",sourcesContent:["span.map3d-search-pin-label {\r\n    -webkit-text-stroke: 0.8px black;\r\n    text-stroke: 0.8px black;\r\n    color: white;\r\n    font-weight: bold;\r\n    font-size: 16px;\r\n}"],sourceRoot:""}]);const i=a},6580(){},12774(e,A,t){"use strict";t.d(A,{A:()=>i});var n=t(15516),r=t.n(n),o=t(81364),a=t.n(o)()(r());a.push([e.id,"div.map3d-nav-pan,\ndiv.map3d-nav-rotate {\n    position: absolute;\n    right: 1em;\n    z-index: 1;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-wrap: wrap;\n    width: 4em;\n    height: 4em;\n    border-radius: 2em;\n    color: var(--map-button-text-color);\n    background-color: var(--map-button-bg-color);\n    box-shadow: 0px 5px 10px rgba(136, 136, 136, 0.5);\n}\n\ndiv.map3d-nav-pan > span,\ndiv.map3d-nav-rotate > span {\n    flex: 0 0 1.25em;\n}\n\ndiv.map3d-nav-pan {\n    top: 4em;\n}\n\ndiv.map3d-nav-pan > span.icon-home {\n    font-size: 120%;\n}\n\ndiv.map3d-nav-rotate {\n    top: 9em;\n}\n\ndiv.map3d-firstperson-button {\n    position: absolute;\n    width: 2em;\n    height: 2em;\n    right: 2em;\n    top: 14em;\n    z-index: 1;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    color: var(--map-button-text-color);\n    background-color: var(--map-button-bg-color);\n    box-shadow: 0px 5px 10px rgba(136, 136, 136, 0.5);\n    border-radius: 4px;\n    cursor: pointer;\n    transition: background-color 0.5s, color 0.5s;\n}\n\ndiv.map3d-firstperson-button-active {\n    background-color: var(--map-button-text-color);\n    color: var(--map-button-bg-color);\n}","",{version:3,sources:["webpack://./qwc2/components/map3d/style/MapControls3D.css"],names:[],mappings:"AAAA;;IAEI,kBAAkB;IAClB,UAAU;IACV,UAAU;IACV,aAAa;IACb,mBAAmB;IACnB,uBAAuB;IACvB,eAAe;IACf,UAAU;IACV,WAAW;IACX,kBAAkB;IAClB,mCAAmC;IACnC,4CAA4C;IAC5C,iDAAiD;AACrD;;AAEA;;IAEI,gBAAgB;AACpB;;AAEA;IACI,QAAQ;AACZ;;AAEA;IACI,eAAe;AACnB;;AAEA;IACI,QAAQ;AACZ;;AAEA;IACI,kBAAkB;IAClB,UAAU;IACV,WAAW;IACX,UAAU;IACV,SAAS;IACT,UAAU;IACV,aAAa;IACb,mBAAmB;IACnB,uBAAuB;IACvB,mCAAmC;IACnC,4CAA4C;IAC5C,iDAAiD;IACjD,kBAAkB;IAClB,eAAe;IACf,6CAA6C;AACjD;;AAEA;IACI,8CAA8C;IAC9C,iCAAiC;AACrC",sourcesContent:["div.map3d-nav-pan,\r\ndiv.map3d-nav-rotate {\r\n    position: absolute;\r\n    right: 1em;\r\n    z-index: 1;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    flex-wrap: wrap;\r\n    width: 4em;\r\n    height: 4em;\r\n    border-radius: 2em;\r\n    color: var(--map-button-text-color);\r\n    background-color: var(--map-button-bg-color);\r\n    box-shadow: 0px 5px 10px rgba(136, 136, 136, 0.5);\r\n}\r\n\r\ndiv.map3d-nav-pan > span,\r\ndiv.map3d-nav-rotate > span {\r\n    flex: 0 0 1.25em;\r\n}\r\n\r\ndiv.map3d-nav-pan {\r\n    top: 4em;\r\n}\r\n\r\ndiv.map3d-nav-pan > span.icon-home {\r\n    font-size: 120%;\r\n}\r\n\r\ndiv.map3d-nav-rotate {\r\n    top: 9em;\r\n}\r\n\r\ndiv.map3d-firstperson-button {\r\n    position: absolute;\r\n    width: 2em;\r\n    height: 2em;\r\n    right: 2em;\r\n    top: 14em;\r\n    z-index: 1;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    color: var(--map-button-text-color);\r\n    background-color: var(--map-button-bg-color);\r\n    box-shadow: 0px 5px 10px rgba(136, 136, 136, 0.5);\r\n    border-radius: 4px;\r\n    cursor: pointer;\r\n    transition: background-color 0.5s, color 0.5s;\r\n}\r\n\r\ndiv.map3d-firstperson-button-active {\r\n    background-color: var(--map-button-text-color);\r\n    color: var(--map-button-bg-color);\r\n}"],sourceRoot:""}]);const i=a},15682(e,A,t){"use strict";t.d(A,{A:()=>i});var n=t(15516),r=t.n(n),o=t(81364),a=t.n(o)()(r());a.push([e.id,"div.map3d-topbar {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    height: 3.5em;\n    z-index: 100;\n    color: var(--panel-text-color);\n    background-color: var(--panel-bg-color);\n    box-shadow: 0 -2px 4px rgba(136, 136, 136, 0.5);\n    backdrop-filter: blur(3px);\n    display: flex;\n    align-items: center;\n}\n\ndiv.map3d-topbar div.search-widget-container {\n    margin: 0 0.75em;\n    width: 25em;\n}\n\nspan.map3d-topbar-spacer {\n    flex: 1 1 auto;\n}\n\ndiv.map3d-topbar div.AppMenu {\n    flex: 0 0 auto;\n    color: var(--panel-text-color);\n}\n\ndiv.map3d-topbar div.AppMenu span.icon-menu-hamburger {\n    padding: 0.25em;\n    margin: 0 1em;\n    border: 2px solid var(--panel-text-color);\n}\n\ndiv.map3d-topbar div.AppMenu.appmenu-visible {\n    color: var(--app-submenu-text-color-hover);\n}\n\ndiv.map3d-topbar div.AppMenu.appmenu-visible span.icon-menu-hamburger {\n    border: 2px solid var(--app-submenu-text-color-hover);\n}\n\ndiv.map3d-topbar div.AppMenu div.appmenu-menu-container {\n    background-color: var(--app-menu-bg-color);\n}\n\ndiv.map3d-topbar div.AppMenu ul.appmenu-menu li:last-child {\n    border-bottom: 1px solid var(--app-menu-text-color);\n}","",{version:3,sources:["webpack://./qwc2/components/map3d/style/TopBar3D.css"],names:[],mappings:"AAAA;IACI,kBAAkB;IAClB,OAAO;IACP,QAAQ;IACR,MAAM;IACN,aAAa;IACb,YAAY;IACZ,8BAA8B;IAC9B,uCAAuC;IACvC,+CAA+C;IAC/C,0BAA0B;IAC1B,aAAa;IACb,mBAAmB;AACvB;;AAEA;IACI,gBAAgB;IAChB,WAAW;AACf;;AAEA;IACI,cAAc;AAClB;;AAEA;IACI,cAAc;IACd,8BAA8B;AAClC;;AAEA;IACI,eAAe;IACf,aAAa;IACb,yCAAyC;AAC7C;;AAEA;IACI,0CAA0C;AAC9C;;AAEA;IACI,qDAAqD;AACzD;;AAEA;IACI,0CAA0C;AAC9C;;AAEA;IACI,mDAAmD;AACvD",sourcesContent:["div.map3d-topbar {\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    top: 0;\r\n    height: 3.5em;\r\n    z-index: 100;\r\n    color: var(--panel-text-color);\r\n    background-color: var(--panel-bg-color);\r\n    box-shadow: 0 -2px 4px rgba(136, 136, 136, 0.5);\r\n    backdrop-filter: blur(3px);\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n\r\ndiv.map3d-topbar div.search-widget-container {\r\n    margin: 0 0.75em;\r\n    width: 25em;\r\n}\r\n\r\nspan.map3d-topbar-spacer {\r\n    flex: 1 1 auto;\r\n}\r\n\r\ndiv.map3d-topbar div.AppMenu {\r\n    flex: 0 0 auto;\r\n    color: var(--panel-text-color);\r\n}\r\n\r\ndiv.map3d-topbar div.AppMenu span.icon-menu-hamburger {\r\n    padding: 0.25em;\r\n    margin: 0 1em;\r\n    border: 2px solid var(--panel-text-color);\r\n}\r\n\r\ndiv.map3d-topbar div.AppMenu.appmenu-visible {\r\n    color: var(--app-submenu-text-color-hover);\r\n}\r\n\r\ndiv.map3d-topbar div.AppMenu.appmenu-visible span.icon-menu-hamburger {\r\n    border: 2px solid var(--app-submenu-text-color-hover);\r\n}\r\n\r\ndiv.map3d-topbar div.AppMenu div.appmenu-menu-container {\r\n    background-color: var(--app-menu-bg-color);\r\n}\r\n\r\ndiv.map3d-topbar div.AppMenu ul.appmenu-menu li:last-child {\r\n    border-bottom: 1px solid var(--app-menu-text-color);\r\n}"],sourceRoot:""}]);const i=a},28625(){},32205(e,A,t){"use strict";t.d(A,{A:()=>i});var n=t(15516),r=t.n(n),o=t(81364),a=t.n(o)()(r());a.push([e.id,"#LayerTree3D div.layertree3d-item-container {\n    padding: 0.25em 0.25em 0.25em 0.5em;\n}\n\n\n#LayerTree3D div.layertree3d-item {\n    display: flex;\n    align-items: center;\n    height: 1.75em;\n}\n\n#LayerTree3D span.layertree3d-item-checkbox {\n    margin-right: 0.5em;\n    flex: 0 0 auto;\n}\n\n#LayerTree3D div.layertree3d-item-disabled > span.layertree3d-item-title {\n    color: var(--text-color-disabled);\n}\n\n#LayerTree3D span.layertree3d-item-title {\n    flex: 1 1 auto;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n\n#LayerTree3D span.layertree3d-item-transparency {\n    flex: 0 0 5em;\n    margin: 0 0.5em;\n}\n\n#LayerTree3D input.layertree3d-item-transparency-slider {\n    width: 100%;\n}\n\n#LayerTree3D div.layertree3d-section {\n    font-weight: bold;\n    margin-left: -0.25em;\n}","",{version:3,sources:["webpack://./qwc2/components/map3d/style/LayerTree3D.css"],names:[],mappings:"AAAA;IACI,mCAAmC;AACvC;;;AAGA;IACI,aAAa;IACb,mBAAmB;IACnB,cAAc;AAClB;;AAEA;IACI,mBAAmB;IACnB,cAAc;AAClB;;AAEA;IACI,iCAAiC;AACrC;;AAEA;IACI,cAAc;IACd,mBAAmB;IACnB,gBAAgB;IAChB,uBAAuB;AAC3B;;AAEA;IACI,aAAa;IACb,eAAe;AACnB;;AAEA;IACI,WAAW;AACf;;AAEA;IACI,iBAAiB;IACjB,oBAAoB;AACxB",sourcesContent:["#LayerTree3D div.layertree3d-item-container {\r\n    padding: 0.25em 0.25em 0.25em 0.5em;\r\n}\r\n\r\n\r\n#LayerTree3D div.layertree3d-item {\r\n    display: flex;\r\n    align-items: center;\r\n    height: 1.75em;\r\n}\r\n\r\n#LayerTree3D span.layertree3d-item-checkbox {\r\n    margin-right: 0.5em;\r\n    flex: 0 0 auto;\r\n}\r\n\r\n#LayerTree3D div.layertree3d-item-disabled > span.layertree3d-item-title {\r\n    color: var(--text-color-disabled);\r\n}\r\n\r\n#LayerTree3D span.layertree3d-item-title {\r\n    flex: 1 1 auto;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n}\r\n\r\n#LayerTree3D span.layertree3d-item-transparency {\r\n    flex: 0 0 5em;\r\n    margin: 0 0.5em;\r\n}\r\n\r\n#LayerTree3D input.layertree3d-item-transparency-slider {\r\n    width: 100%;\r\n}\r\n\r\n#LayerTree3D div.layertree3d-section {\r\n    font-weight: bold;\r\n    margin-left: -0.25em;\r\n}"],sourceRoot:""}]);const i=a},56504(){},70924(e,A,t){"use strict";t.d(A,{A:()=>i});var n=t(15516),r=t.n(n),o=t(81364),a=t.n(o)()(r());a.push([e.id,"div.map3d-body {\n    margin: -0.25em;\n    height: calc(100% + 0.5em);\n    position: relative;\n}\n\ndiv.map3d-titlebar {\n    flex: 0 0 3.25em;\n    display: flex;\n    align-items: center;\n}\n\ndiv.map3d-titlebar > span:first-child {\n    flex: 1 1 auto;\n    padding: 0 0.5em;\n    font-weight: bold;\n    font-size: 150%;\n}\n\ndiv.map3d-titlebar > span.icon-remove {\n    font-size: 150%;\n    margin: 0 0.5em;\n}\n\ndiv.map3d-map {\n    position: absolute;\n    left: 0;\n    top: 0;\n    right: 0;\n    bottom: 0;\n}\n\ndiv#map3dinspector {\n    position: fixed;\n    z-index: 5;\n    right: 0;\n    top: 3.5em;\n}\n\ndiv#map3dinspector input {\n    color: black!important;\n}","",{version:3,sources:["webpack://./qwc2/components/map3d/style/Map3D.css"],names:[],mappings:"AAAA;IACI,eAAe;IACf,0BAA0B;IAC1B,kBAAkB;AACtB;;AAEA;IACI,gBAAgB;IAChB,aAAa;IACb,mBAAmB;AACvB;;AAEA;IACI,cAAc;IACd,gBAAgB;IAChB,iBAAiB;IACjB,eAAe;AACnB;;AAEA;IACI,eAAe;IACf,eAAe;AACnB;;AAEA;IACI,kBAAkB;IAClB,OAAO;IACP,MAAM;IACN,QAAQ;IACR,SAAS;AACb;;AAEA;IACI,eAAe;IACf,UAAU;IACV,QAAQ;IACR,UAAU;AACd;;AAEA;IACI,sBAAsB;AAC1B",sourcesContent:["div.map3d-body {\r\n    margin: -0.25em;\r\n    height: calc(100% + 0.5em);\r\n    position: relative;\r\n}\r\n\r\ndiv.map3d-titlebar {\r\n    flex: 0 0 3.25em;\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n\r\ndiv.map3d-titlebar > span:first-child {\r\n    flex: 1 1 auto;\r\n    padding: 0 0.5em;\r\n    font-weight: bold;\r\n    font-size: 150%;\r\n}\r\n\r\ndiv.map3d-titlebar > span.icon-remove {\r\n    font-size: 150%;\r\n    margin: 0 0.5em;\r\n}\r\n\r\ndiv.map3d-map {\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n}\r\n\r\ndiv#map3dinspector {\r\n    position: fixed;\r\n    z-index: 5;\r\n    right: 0;\r\n    top: 3.5em;\r\n}\r\n\r\ndiv#map3dinspector input {\r\n    color: black!important;\r\n}"],sourceRoot:""}]);const i=a},80634(e,A,t){"use strict";t.d(A,{A:()=>i});var n=t(15516),r=t.n(n),o=t(81364),a=t.n(o)()(r());a.push([e.id,"#DateTime3D div.datetime3d-body {\n    padding: 0.25em;\n}\n\n#DateTime3D div.datetime3d-body > table {\n    width: 100%;\n}\n\n#DateTime3D div.datetime3d-body > table td > input {\n    width: 100%;\n}","",{version:3,sources:["webpack://./qwc2/components/map3d/style/Map3DLight.css"],names:[],mappings:"AAAA;IACI,eAAe;AACnB;;AAEA;IACI,WAAW;AACf;;AAEA;IACI,WAAW;AACf",sourcesContent:["#DateTime3D div.datetime3d-body {\r\n    padding: 0.25em;\r\n}\r\n\r\n#DateTime3D div.datetime3d-body > table {\r\n    width: 100%;\r\n}\r\n\r\n#DateTime3D div.datetime3d-body > table td > input {\r\n    width: 100%;\r\n}"],sourceRoot:""}]);const i=a},84482(e,A,t){"use strict";t.d(A,{A:()=>i});var n=t(15516),r=t.n(n),o=t(81364),a=t.n(o)()(r());a.push([e.id,"div.mapexport3d-event-container {\n    z-index: 2;\n    position: absolute;\n    left: 0;\n    top: 0;\n    right: 0;\n    bottom: 0;\n}\n\ndiv.mapexport3d-frame {\n    position: absolute;\n    box-shadow: rgba(0, 0, 0, 0.5) 0 0 0 30000px;\n    white-space: nowrap;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: small;\n    overflow: hidden;\n    user-select: none;\n}\n\nspan.mapexport3d-frame-label {\n    padding: 0.25em;\n    background: rgba(255, 255, 255, 0.5);\n}","",{version:3,sources:["webpack://./qwc2/components/map3d/style/MapExport3D.css"],names:[],mappings:"AAAA;IACI,UAAU;IACV,kBAAkB;IAClB,OAAO;IACP,MAAM;IACN,QAAQ;IACR,SAAS;AACb;;AAEA;IACI,kBAAkB;IAClB,4CAA4C;IAC5C,mBAAmB;IACnB,aAAa;IACb,mBAAmB;IACnB,uBAAuB;IACvB,gBAAgB;IAChB,gBAAgB;IAChB,iBAAiB;AACrB;;AAEA;IACI,eAAe;IACf,oCAAoC;AACxC",sourcesContent:["div.mapexport3d-event-container {\r\n    z-index: 2;\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n}\r\n\r\ndiv.mapexport3d-frame {\r\n    position: absolute;\r\n    box-shadow: rgba(0, 0, 0, 0.5) 0 0 0 30000px;\r\n    white-space: nowrap;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    font-size: small;\r\n    overflow: hidden;\r\n    user-select: none;\r\n}\r\n\r\nspan.mapexport3d-frame-label {\r\n    padding: 0.25em;\r\n    background: rgba(255, 255, 255, 0.5);\r\n}"],sourceRoot:""}]);const i=a},89600(e,A,t){"use strict";t.d(A,{A:()=>i});var n=t(15516),r=t.n(n),o=t(81364),a=t.n(o)()(r());a.push([e.id,"div.draw3d-numeric-input-body {\n    font-size: 90%;\n}\n\ndiv.draw3d-numeric-input-body > table {\n    width: 100%;\n}\n","",{version:3,sources:["webpack://./qwc2/components/map3d/style/Draw3D.css"],names:[],mappings:"AAAA;IACI,cAAc;AAClB;;AAEA;IACI,WAAW;AACf",sourcesContent:["div.draw3d-numeric-input-body {\r\n    font-size: 90%;\r\n}\r\n\r\ndiv.draw3d-numeric-input-body > table {\r\n    width: 100%;\r\n}\r\n"],sourceRoot:""}]);const i=a},91399(e,A,t){"use strict";t.d(A,{A:()=>i});var n=t(15516),r=t.n(n),o=t(81364),a=t.n(o)()(r());a.push([e.id,"#Compare3D div.compare3d-title {\n    display: flex;\n    align-items: center;\n    padding: 0 0.125em;\n}\n\n#Compare3D div.compare3d-title > span.icon {\n    margin-right: 0.5em;\n}\n\n#Compare3D div.compare3d-objects {\n    display: flex;\n    background-color: var(--list-bg-color);\n    margin: 0.25em;\n}\n\n#Compare3D div.compare3d-section {\n    flex: 1 1 auto;\n    border: 1px solid var(--border-color);\n}\n\n#Compare3D div.compare3d-section:first-child {\n    border-right: 1px solid var(--border-color);\n}\n\n#Compare3D div.compare3d-section:last-child {\n    border-left: 1px solid var(--border-color);\n}\n\n#Compare3D div.compare3d-item {\n    display: flex;\n    align-items: center;\n    padding: 0.25em;\n}\n\n#Compare3D div.compare3d-item-toggleall {\n    border-bottom: 1px solid var(--border-color);\n}\n\n#Compare3D span.compare3d-item-checkbox {\n    margin-right: 0.5em;\n    flex: 0 0 auto;\n}\n\n#Compare3D div.compare3d-title {\n    font-weight: bold;\n    margin: 0.25em;\n}\n\n#Compare3D table.compare3d-planeconfig {\n    width: 100%;\n    margin-bottom: 0.25em;\n}\n\n#Compare3D table.compare3d-planeconfig td {\n    padding: 0 0.25em 0 0.5em;\n}","",{version:3,sources:["webpack://./qwc2/components/map3d/style/Compare3D.css"],names:[],mappings:"AAAA;IACI,aAAa;IACb,mBAAmB;IACnB,kBAAkB;AACtB;;AAEA;IACI,mBAAmB;AACvB;;AAEA;IACI,aAAa;IACb,sCAAsC;IACtC,cAAc;AAClB;;AAEA;IACI,cAAc;IACd,qCAAqC;AACzC;;AAEA;IACI,2CAA2C;AAC/C;;AAEA;IACI,0CAA0C;AAC9C;;AAEA;IACI,aAAa;IACb,mBAAmB;IACnB,eAAe;AACnB;;AAEA;IACI,4CAA4C;AAChD;;AAEA;IACI,mBAAmB;IACnB,cAAc;AAClB;;AAEA;IACI,iBAAiB;IACjB,cAAc;AAClB;;AAEA;IACI,WAAW;IACX,qBAAqB;AACzB;;AAEA;IACI,yBAAyB;AAC7B",sourcesContent:["#Compare3D div.compare3d-title {\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 0 0.125em;\r\n}\r\n\r\n#Compare3D div.compare3d-title > span.icon {\r\n    margin-right: 0.5em;\r\n}\r\n\r\n#Compare3D div.compare3d-objects {\r\n    display: flex;\r\n    background-color: var(--list-bg-color);\r\n    margin: 0.25em;\r\n}\r\n\r\n#Compare3D div.compare3d-section {\r\n    flex: 1 1 auto;\r\n    border: 1px solid var(--border-color);\r\n}\r\n\r\n#Compare3D div.compare3d-section:first-child {\r\n    border-right: 1px solid var(--border-color);\r\n}\r\n\r\n#Compare3D div.compare3d-section:last-child {\r\n    border-left: 1px solid var(--border-color);\r\n}\r\n\r\n#Compare3D div.compare3d-item {\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 0.25em;\r\n}\r\n\r\n#Compare3D div.compare3d-item-toggleall {\r\n    border-bottom: 1px solid var(--border-color);\r\n}\r\n\r\n#Compare3D span.compare3d-item-checkbox {\r\n    margin-right: 0.5em;\r\n    flex: 0 0 auto;\r\n}\r\n\r\n#Compare3D div.compare3d-title {\r\n    font-weight: bold;\r\n    margin: 0.25em;\r\n}\r\n\r\n#Compare3D table.compare3d-planeconfig {\r\n    width: 100%;\r\n    margin-bottom: 0.25em;\r\n}\r\n\r\n#Compare3D table.compare3d-planeconfig td {\r\n    padding: 0 0.25em 0 0.5em;\r\n}"],sourceRoot:""}]);const i=a},95466(e,A,t){"use strict";t.d(A,{A:()=>i});var n=t(15516),r=t.n(n),o=t(81364),a=t.n(o)()(r());a.push([e.id,"div.map3d-bottombar {\n    position: absolute;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    height: 3em;\n    z-index: 100;\n    color: var(--panel-text-color);\n    background-color: var(--panel-bg-color);\n    box-shadow: 0 -2px 4px rgba(136, 136, 136, 0.5);\n    backdrop-filter: blur(3px);\n    font-size: 75%;\n    display: flex;\n    align-items: center;\n}\n\ndiv.map3d-bottombar-progress {\n    margin: 0.25em;\n    position: relative;\n    flex: 0 0 10em;\n    height: 2em;\n    border: 1px solid var(--border-color);\n    background-color: var(--border-color);\n}\n\ndiv.map3d-bottombar-spacer {\n    flex: 1 1 auto;\n}\n\ndiv.map3d-bottombar-progressbar {\n    position: absolute;\n    left: 0;\n    bottom: 0;\n    top: 0;\n    background-color: var(--color-active);\n}\n\ndiv.map3d-bottombar-progress-label {\n    position: absolute;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    top: 0;\n    line-height: 2em;\n    text-align: center;\n    color: white;\n}\n\ndiv.map3d-bottombar-position {\n    margin-left: 0.5em;\n    border: 1px solid var(--border-color);\n    padding: 0.25em;\n    background-color: var(--input-bg-color);\n    flex: 0 0 15em;\n    text-align: center;\n    height: 2em;\n    cursor: text;\n}\n\ndiv.map3d-bottombar-projection {\n    border-color: var(--border-color);\n    border-style: solid;\n    border-width: 1px 1px 1px 0;\n    background-color: var(--input-bg-color);\n    padding: 0.25em 0.5em;\n    height: 2em;\n}","",{version:3,sources:["webpack://./qwc2/components/map3d/style/BottomBar3D.css"],names:[],mappings:"AAAA;IACI,kBAAkB;IAClB,OAAO;IACP,QAAQ;IACR,SAAS;IACT,WAAW;IACX,YAAY;IACZ,8BAA8B;IAC9B,uCAAuC;IACvC,+CAA+C;IAC/C,0BAA0B;IAC1B,cAAc;IACd,aAAa;IACb,mBAAmB;AACvB;;AAEA;IACI,cAAc;IACd,kBAAkB;IAClB,cAAc;IACd,WAAW;IACX,qCAAqC;IACrC,qCAAqC;AACzC;;AAEA;IACI,cAAc;AAClB;;AAEA;IACI,kBAAkB;IAClB,OAAO;IACP,SAAS;IACT,MAAM;IACN,qCAAqC;AACzC;;AAEA;IACI,kBAAkB;IAClB,OAAO;IACP,QAAQ;IACR,SAAS;IACT,MAAM;IACN,gBAAgB;IAChB,kBAAkB;IAClB,YAAY;AAChB;;AAEA;IACI,kBAAkB;IAClB,qCAAqC;IACrC,eAAe;IACf,uCAAuC;IACvC,cAAc;IACd,kBAAkB;IAClB,WAAW;IACX,YAAY;AAChB;;AAEA;IACI,iCAAiC;IACjC,mBAAmB;IACnB,2BAA2B;IAC3B,uCAAuC;IACvC,qBAAqB;IACrB,WAAW;AACf",sourcesContent:["div.map3d-bottombar {\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    height: 3em;\r\n    z-index: 100;\r\n    color: var(--panel-text-color);\r\n    background-color: var(--panel-bg-color);\r\n    box-shadow: 0 -2px 4px rgba(136, 136, 136, 0.5);\r\n    backdrop-filter: blur(3px);\r\n    font-size: 75%;\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n\r\ndiv.map3d-bottombar-progress {\r\n    margin: 0.25em;\r\n    position: relative;\r\n    flex: 0 0 10em;\r\n    height: 2em;\r\n    border: 1px solid var(--border-color);\r\n    background-color: var(--border-color);\r\n}\r\n\r\ndiv.map3d-bottombar-spacer {\r\n    flex: 1 1 auto;\r\n}\r\n\r\ndiv.map3d-bottombar-progressbar {\r\n    position: absolute;\r\n    left: 0;\r\n    bottom: 0;\r\n    top: 0;\r\n    background-color: var(--color-active);\r\n}\r\n\r\ndiv.map3d-bottombar-progress-label {\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    top: 0;\r\n    line-height: 2em;\r\n    text-align: center;\r\n    color: white;\r\n}\r\n\r\ndiv.map3d-bottombar-position {\r\n    margin-left: 0.5em;\r\n    border: 1px solid var(--border-color);\r\n    padding: 0.25em;\r\n    background-color: var(--input-bg-color);\r\n    flex: 0 0 15em;\r\n    text-align: center;\r\n    height: 2em;\r\n    cursor: text;\r\n}\r\n\r\ndiv.map3d-bottombar-projection {\r\n    border-color: var(--border-color);\r\n    border-style: solid;\r\n    border-width: 1px 1px 1px 0;\r\n    background-color: var(--input-bg-color);\r\n    padding: 0.25em 0.5em;\r\n    height: 2em;\r\n}"],sourceRoot:""}]);const i=a}}]);
//# sourceMappingURL=682.QWC2App.js.map